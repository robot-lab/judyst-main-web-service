(function(t){function e(e){for(var i,o,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)o=r[d],s[o]&&m.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c21b"),s=n.n(i);s.a},"0c78":function(t,e,n){"use strict";var i=n("8bc4"),s=n.n(i);s.a},"10aa":function(t,e,n){},"16e0":function(t,e,n){},2447:function(t,e,n){"use strict";var i=n("59fb"),s=n.n(i);s.a},"2b44":function(t,e,n){},3382:function(t,e,n){"use strict";var i=n("67f6"),s=n.n(i);s.a},"366a":function(t,e,n){"use strict";var i=n("10aa"),s=n.n(i);s.a},"3ec6":function(t,e,n){"use strict";var i=n("441b"),s=n.n(i);s.a},"43b6":function(t,e,n){"use strict";var i=n("a07b"),s=n.n(i);s.a},"441b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("5ee5"),s=n.n(i),a=n("8c4f"),o=n("9f7b"),r=(n("f9e3"),n("2dd8"),n("bc3a")),c=n.n(r),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("Workspace"),n("Footer")],1)},l=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container "},[n("b-container",[n("p",[t._v(t._s(t.description))])])],1)},m=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"link-search-main"},[n("SearchBlock",{staticClass:"search-block",attrs:{Request:t.SearchRequest,isNeedSearch:t.isNeedSearch},on:{SearchResultsReceived:function(e){t.SetSearchResult(e)}}}),null!=t.SearchResult?n("SearchResultsBlock",{attrs:{SearchResults:t.SearchResult}}):t._e()],1)},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("div",{staticClass:"col-12"},[n("div",{attrs:{id:"custom-search-input"}},[t.isLoading?n("p",[t._v(" Ведется поиск...")]):t._e(),n("div",{staticClass:"input-group"},[n("input",{staticClass:"search-query form-control",attrs:{type:"text",id:"input-search",placeholder:"Поиск"},domProps:{value:t.SearchRequest},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.SearchButtonClick()}}}),n("span",{staticClass:"input-group-btn"},[n("button",{attrs:{type:"button"}},[n("span",{staticClass:"fa fa-search",on:{click:function(e){t.SearchButtonClick()}}})])])]),n("favorite-manager",{attrs:{Request:t.SearchRequest,Target:"request"}})],1)])])],1)},v=[];n("ac6a"),n("28a5");function _(t){return t.map(function(t){return t.trim()}).filter(function(t){if(""!==t)return t})}function g(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}var b={trimFromSpaces:_,distinctArr:g},S={ElemsDelimiter:",",CitationPartsDelimiter:"->"},C={any_front:"*",any_back:-1};function k(t){var e=t.split(S.CitationPartsDelimiter);if(e=b.trimFromSpaces(e),e.length<2)return null;var n=e[0].split(S.ElemsDelimiter);n=b.trimFromSpaces(n),n=b.distinctArr(n);var i=e[1].split(S.ElemsDelimiter),s=[];if(i=b.trimFromSpaces(i),i=b.distinctArr(i),-1!==n.indexOf(C.any_front))if(-1!==i.indexOf(C.any_front))s.push({doc_id_from:C.any_back,doc_id_to:C.any_back});else for(var a=0;a<i.length;a++)s.push({doc_id_from:C.any_back,doc_id_to:i[a]});else if(-1!==i.indexOf(C.any_front))for(a=0;a<n.length;a++)s.push({doc_id_from:n[a],doc_id_to:C.any_back});else for(a=0;a<n.length;a++)for(var o=0;o<i.length;o++)s.push({doc_id_from:n[a],doc_id_to:i[o]});return s}var R={CitationFastSearch:k},E={sampleKeyword:"sampleKeyword"};function y(){throw"Not implemented!"}function L(t){var e=E.values;for(var n in e)if(-1!==t.indexOf(n))return y(t);if(t.indexOf(S.CitationPartsDelimiter))return R.CitationFastSearch(t);throw"Not implemented!"}var q=L;function O(t,e,n,i){var s=0,a=0,o=0,r=0,c=[],u=function(t,n){var i={doc_id_from:n.doc_id_from,doc_id_to:n.doc_id_to,range:t},s=JSON.stringify(i),a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("content-type","application/json"),a.send(s),a.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){for(var t=a.responseText,e=JSON.parse(t),n=[],i=0;i<e.length;i++)n.push(e[i]);c=c.concat(n),r++}else alert("ошибка: "+(this.status?this.statusText:"запрос не удался"))}};while(a<n.length&&s<t[0]){if(!(s+n[a].Size<=t[0])){var l=t[0]-s;if(s+n[a].Size<=t[1]){var d=[l,n[a].Size];s+=n[a].Size}else{var m=t[1]-s;d=[l,m],s+=t[1]-t[0]}o++;var f=a;setTimeout(function(){u(d,n[f])},0),a++;break}s+=n[a].Size,a++}while(a<n.length&&s<t[1])s+n[a].Size<=t[1]?(d=[0,n[a].Size],s+=n[a].Size):(d=[0,t[1]-s],s=t[1]),f=a,setTimeout(function(){u(d,n[f])},0),o++,a++;var p=function t(){o<=r?i(c):setTimeout(t,500)};setTimeout(p,0)}function T(t,e,n){var i=q(t);if(null!=i){for(var s=[],a=0,o=0;o<i.length;o++){var r=i[o],c=JSON.stringify(r),u=new XMLHttpRequest;u.open("POST",e,!0),u.setRequestHeader("content-type","application/json"),u.send(c),u.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);s.push({Size:e.size,doc_id_from:r.doc_id_from,doc_id_to:r.doc_id_to}),a+=1}else a+=1}}var l=function t(){a===i.length?n(s):setTimeout(t,500)};setTimeout(l,500)}else n(null)}function D(t,e,n){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("content-type","application/json");var s=JSON.stringify({doc_id:t});i.send(s),i.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);n(e)}else n(null,this.status)}}var w={RequestLinks:O,RequestSearch:T,RequestDocument:D},F="/api",x={Search:"".concat(F,"/search/number_of_links"),Document:"".concat(F,"/search/document"),Links:"".concat(F,"/search/get"),Auth_signin:"".concat(F,"/user/login"),Auth_signup:"".concat(F,"/user/register"),Auth_signout:"".concat(F,"/user/logout")},P="user",A={Search:"/search",SignUp:"/".concat(P,"/signup"),UserFavorites:"/favorites",Document:"/document",AddFavorite:"/favorites/new",PageNotFound:"/404",HomePage:"/"},I={doc_id_delimiter:["/","-_-"]};function N(t){var e,n,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}function U(t){return N("".concat(t.doc_id_from).concat(t.doc_id_to))}function $(t){return t.split(I.doc_id_delimiter[0]).join(I.doc_id_delimiter[1])}function j(t){return t.split(I.doc_id_delimiter[1]).join(I.doc_id_delimiter[0])}function M(t){return t=t.split(I.doc_id_delimiter[0]).join(I.doc_id_delimiter[1]),t}function V(t){return t=t.split(I.doc_id_delimiter[1]).join(I.doc_id_delimiter[0]),t}var z={Hash:N,StashDocId:$,DeStashDocId:j,HashLink:U,StashRequest:M,DeStashRequest:V},B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-12"},[n("i",{class:t.state,on:{click:function(e){t.starOnClick()}}})]),n("b-modal",{attrs:{id:"SaveModal","hide-footer":"",title:"Запомнить запрос"},model:{value:t.isSaveModalVisible,callback:function(e){t.isSaveModalVisible=e},expression:"isSaveModalVisible"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("label",[t._v(t._s("document"==t.Target?"Номер документа":"Запрос")+": "+t._s(t.Request))]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only"},[t._v("Название")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Название",required:""},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only"},[t._v("Комментарий")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Комментарий"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("b-btn",{staticClass:"submit-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Сохранить")])],1)])])],1)},H=[],G="AUTH_REQUEST",J="AUTH_SUCCESS",W="AUTH_ERROR",Q="AUTH_LOGOUT",K="USER_REQUEST",X="USER_SUCCESS",Y="USER_ERROR",Z="REGISTER_REQUEST",tt="REGISTER_SUCCESS",et="REGISTER_ERROR",nt="NEW_LINKS_PACK",it="NEW_SEARCH_RESULT",st="NEW_FAVORITE_REQ",at="EDIT_FAVORITE_REQ",ot="DELETE_FAVORITE_REQ",rt="NEW_FAVORITE_DOC",ct="EDIT_FAVORITE_DOC",ut="DELETE_FAVORITE_DOC",lt="UPDATE_FROM_STORAGE",dt="SET_ON_FAVORITE_UPDATE",mt="DELETE_ON_FAVORITE_UPDATE",ft={AUTH_REQUEST:G,AUTH_ERROR:W,AUTH_SUCCESS:J,AUTH_LOGOUT:Q,REGISTER_REQUEST:Z,REGISTER_ERROR:et,REGISTER_SUCCESS:tt,USER_REQUEST:K,USER_ERROR:Y,USER_SUCCESS:X,NEW_LINKS_PACK:nt,NEW_SEARCH_RESULT:it,NEW_FAVORITE_DOC:rt,NEW_FAVORITE_REQ:st,EDIT_FAVORITE_DOC:ct,EDIT_FAVORITE_REQ:at,DELETE_FAVORITE_DOC:ut,DELETE_FAVORITE_REQ:ot,UPDATE_FROM_STORAGE:lt,SET_ON_FAVORITE_UPDATE:dt,DELETE_ON_FAVORITE_UPDATE:mt},pt={name:"SearchRequestManager",props:{Request:String,Target:String,Title:String},data:function(){return{caption:"",description:"",isSaveModalVisible:!1,submit:null,salt:""}},computed:{isFavorite:function(){if(""!=this.salt)return"";var t=this.Request.trim(),e="document"==this.Target&&null!==this.$store.getters.getFavoriteDocument(t),n="request"==this.Target&&null!==this.$store.getters.getFavoriteRequest(t),i=e||n;return i},state:function(){return this.isFavorite?"fas fa-star":"far fa-star"},starOnClick:function(){return this.isFavorite?function(){var t="document"==this.Target?ft.DELETE_FAVORITE_DOC:ft.DELETE_FAVORITE_REQ,e=this.Request.trim();this.$store.commit(t,{req:e})}:function(){this.isSaveModalVisible=!0}}},methods:{AddReqToFavorites:function(){var t=this.Request.trim();if(""!=t){var e={caption:this.caption,description:this.description,body:t};this.$store.commit(ft.NEW_FAVORITE_REQ,{req:t,model:e}),this.isSaveModalVisible=!1,this.salt="reinvoking",this.salt=""}},AddDocToFavorites:function(){var t=this.Request.trim();if(""!=t){var e={caption:this.caption,description:this.description,title:this.title,body:t};this.$store.commit(ft.NEW_FAVORITE_DOC,{req:t,model:e}),this.isSaveModalVisible=!1,this.salt="reinvoking",this.salt=""}}},created:function(){"document"==this.Target?this.submit=this.AddDocToFavorites:this.submit=this.AddReqToFavorites}},ht=pt,vt=(n("d483"),n("2877")),_t=Object(vt["a"])(ht,B,H,!1,null,"3d6ec251",null);_t.options.__file="FavoriteManager.vue";var gt=_t.exports,bt={name:"SearchBlock",components:{FavoriteManager:gt},props:{Request:String,isNeedSearch:Boolean},computed:{},data:function(){return{url:x.Search,SearchRequest:"",isLoading:!1,tmp:"none"}},methods:{SearchButtonClick:function(){var t=document.getElementById("input-search").value;t=z.StashRequest(t),this.$router.push("".concat(A.Search,"/").concat(t))},Update:function(){if(null!=this.Request&&this.isNeedSearch){this.SearchRequest=z.DeStashRequest(this.Request);var t=this;this.isLoading=!0,w.RequestSearch(this.SearchRequest,this.url,function(e){t.$emit("SearchResultsReceived",e),t.isLoading=!1})}}},watch:{Request:function(){this.Update()}},created:function(){this.Update()}},St=bt,Ct=(n("7905"),Object(vt["a"])(St,h,v,!1,null,"7d6213db",null));Ct.options.__file="SearchBlock.vue";var kt=Ct.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[t.LinksCount>0?n("div",{staticClass:"search-result-block"},[n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?n("div",{staticClass:"links-block"},[n("LinkBoxView",{attrs:{Links:t.Links,DefaultCollapse:!1}}),n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):n("p",[t._v("Загружается...")])]):n("div",{staticClass:"container"},[t._v("\n            Поиск не дал результатов. \n    ")])])},Et=[],yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LinkView",{attrs:{CleanLink:t.CleanLink}})},Lt=[],qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-container container card"},[n("b-card-header",{staticClass:"link-header"},[n("span",[n("p",[t._v("Цитирующий документ: "),n("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_from))])],1)]),n("span",[n("p",[t._v("Цитируемый документ: "),n("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_to)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_to))])],1)])]),n("b-card-body",[n("p",[n("b",[t._v("Заголовок цитируемого документа:")]),t._v(" "+t._s(t.CleanLink.to_doc_title)+"\n                ")]),n("span",[n("p",[t._v("Количество упоминаний: "+t._s(t.CleanLink.citations_number)+" ")])]),n("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.TitleId,expression:"TitleId"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"context-toggler",attrs:{title:"Нажмите, чтобы просмотреть контекст цитаты"}},[t._v("\n                    Контекст цитирования\n                ")]),n("b-collapse",{attrs:{id:t.TitleId}},t._l(t.CitationsRange,function(e){return n("b-card-group",{key:e},[n("b-card",[n("b-card-header"),n("b-card-body",[n("p",[t._v(t._s(t.CleanLink.contexts[e].before)+" "),n("b",[t._v(t._s(t.CleanLink.contexts[e].citation))]),t._v(" "+t._s(t.CleanLink.contexts[e].after)+" ")])]),n("b-card-footer",[n("router-link",{attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/"+t.utils.HashLink(t.CleanLink)}},[t._v("\n                            Перейти к цитате в тексте\n                        ")])],1)],1)],1)}))],1)],1)},Ot=[],Tt={name:"LinkView",props:{CleanLink:Object,DefaultCollapse:Boolean},data:function(){return{utils:z}},computed:{CitationsRange:function(){for(var t=[],e=0;e<this.CleanLink.citations_number;e++)t.push(e);return t},TitleId:function(){return"#collapse_"+this.CleanLink.doc_id_from+"-"+this.CleanLink.doc_id_to}},methods:{GetPositionLink:function(t,e){return"#"+t+"__"+e}}},Dt=Tt,wt=(n("0c78"),Object(vt["a"])(Dt,qt,Ot,!1,null,null,null));wt.options.__file="LinkView.vue";var Ft=wt.exports,xt={name:"SearchResult",components:{LinkView:Ft},props:{CleanLink:Object},computed:{},methods:{}},Pt=xt,At=(n("7c23"),Object(vt["a"])(Pt,yt,Lt,!1,null,"d66bb60e",null));At.options.__file="SearchResult.vue";var It=At.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"search-request-statistics",expression:"'search-request-statistics'"}],staticClass:"bg-info text-white"},[t._v("\n            Статистический анализ запроса\n        ")]),n("b-collapse",{attrs:{id:"search-request-statistics"}},[n("b-card-body",[n("p",[t._v("Найдено: "+t._s(t.LinksCount))])])],1)],1)},Ut=[],$t=(n("c5f6"),{name:"SearchStatistics",data:function(){return{tmp:"none"}},props:{SearchResults:Array,Count:Number},computed:{LinksCount:function(){return void 0==this.Count&&this.ComputeCount(),this.Count}},methods:{ComputeCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;this.Count=t}}}),jt=$t,Mt=(n("b0be"),Object(vt["a"])(jt,Nt,Ut,!1,null,"40ec3108",null));Mt.options.__file="SearchStatistics.vue";var Vt=Mt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-list"},[n("span",[n("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.FirstPages)}}},[t._v("\n         <<<\n    ")]),t._l(t.PrevioslyPages,function(e){return n("a",{key:e[0],staticClass:"page-link",on:{click:function(n){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),n("p",{staticClass:"page-link current-link"},[t._v("\n        |"+t._s(t.Current[0])+" - "+t._s(t.Current[1])+"|\n    ")]),t._l(t.NextPages,function(e){return n("a",{key:e[0],staticClass:"page-link",on:{click:function(n){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),n("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.LastPages)}}},[t._v("\n        >>>\n    ")])],2)])},Bt=[],Ht={name:"PageList",data:function(){return{tmp:"none"}},props:{Count:Number,Step:Number,Current:Array},computed:{PrevioslyPages:function(){var t=[],e=this.Current;if(e[0]>2){var n=e[0]-this.Step-1;n<1&&(n=1),t.push([n,e[0]-1])}return t},NextPages:function(){for(var t=[],e=this.Current,n=0;n<2;n++){var i=e;if(e=[i[1]+1,i[1]+this.Step],e[0]>this.Count)break;e[1]>this.Count&&(e[1],this.Count),t.push(e)}return t},FirstPages:function(){var t=[1,this.Step];return t[1]>this.Count&&(t[1]=this.Count),t},LastPages:function(){var t=[this.Count-this.Step+1,this.Count];return t[0]<1&&(t[0]=1),t}}},Gt=Ht,Jt=(n("59be"),Object(vt["a"])(Gt,zt,Bt,!1,null,"cd6f3780",null));Jt.options.__file="PageList.vue";var Wt=Jt.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"links-block"},t._l(t.Links,function(e,i){return n("div",{key:i},[n("LinkView",{attrs:{CleanLink:e,CollapseDefault:t.CollapseDefault}})],1)}))},Kt=[],Xt={name:"LinksBoxView",components:{LinkView:Ft},props:{Links:Array,CollapseDefault:Boolean}},Yt=Xt,Zt=(n("8f56"),Object(vt["a"])(Yt,Qt,Kt,!1,null,"61117898",null));Zt.options.__file="LinksBoxView.vue";var te=Zt.exports,ee={name:"SearchResultBlock",props:{SearchResults:Array},data:function(){return{Step:10,CurrentRange:[1,20],url:x.Links,tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t}},components:{SearchResult:It,PageList:Wt,LinkBoxView:te,SearchStatistics:Vt},methods:{getLinks:function(t){this.CurrentRange=t;var e=JSON.stringify(this.SearchResults)+JSON.stringify(t),n=this.$store.getters.getStoredLinks(e);if(null!=n)return this.isLoaded=!0,void(this.Links=n);this.isLoaded=!1;var i=this;w.RequestLinks(t,this.url,this.SearchResults,function(t){i.isLoaded=!0,i.Links=t,i.$store.commit(ft.NEW_LINKS_PACK,{request:e,result:t})})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},ne=ee,ie=(n("58b5"),Object(vt["a"])(ne,Rt,Et,!1,null,"605c9da7",null));ie.options.__file="SearchResultsBlock.vue";var se=ie.exports,ae={name:"Search",data:function(){return{SearchResult:null,tmp:"none",SearchRequest:null,isNeedSearch:!0}},computed:{StoredResult:function(){return this.$store.getters.storedResults}},methods:{SetSearchRequest:function(t){t=t.trim(),void 0!=t||null!=t?(null==this.$store.getters.getStoredRes(t)?this.isNeedSearch=!0:(this.isNeedSearch=!1,this.SearchResult=this.$store.getters.getStoredRes(t)),this.SearchRequest=t):this.SearchRequest=""},SetSearchResult:function(t){this.tmp=":)",this.$store.commit(ft.NEW_SEARCH_RESULT,{request:this.SearchRequest,result:t}),this.SearchResult=t}},created:function(){this.SetSearchRequest(this.$route.params.request)},beforeRouteUpdate:function(t,e,n){this.SetSearchRequest(t.params.request),n()},components:{SearchBlock:kt,SearchResultsBlock:se}},oe=ae,re=(n("3ec6"),Object(vt["a"])(oe,f,p,!1,null,"05296e06",null));re.options.__file="Search.vue";var ce=re.exports,ue="Tempor ut laborum ex excepteur laborum duis. Incididunt et nisi aliquip deserunt ea Lorem sit officia et consequat dolor ad adipisicing. Sint elit dolore esse consectetur dolore ut ullamco deserunt eiusmod sint. Non ut amet nisi non proident ex consequat commodo irure tempor in sit. Nostrud consectetur do labore eu amet exercitation velit aliqua nulla anim ipsum excepteur. Lorem amet magna adipisicing fugiat quis anim sit ipsum voluptate qui veniam velit in ex. Laboris pariatur commodo eiusmod velit cillum sint veniam amet.",le={name:"HomePage",data:function(){return{description:ue}},components:{Search:ce},computed:{token:function(){return this.$store.getters.token}}},de=le,me=(n("a3bb"),Object(vt["a"])(de,d,m,!1,null,null,null));me.options.__file="HomePage.vue";var fe=me.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"wrap",attrs:{fluid:""}},[null!=t.CurrentDocument?n("div",[n("h5",{staticClass:"title-block"},[n("b",[t._v("Заголовок документа:")]),n("p",[t._v(t._s(t.CurrentDocument.title))])]),n("h4",{staticClass:"id-block"},[n("p",[n("b",[t._v("Номер документа:")]),t._v(" "+t._s(t.CurrentDocument.doc_id))])]),n("h4",{staticClass:"date-block"},[n("p",[n("b",[t._v("Дата публикации:")]),t._v(" "+t._s(t.CurrentDocument.release_date)+" ")])]),n("favorite-manager",{attrs:{Target:"document",Title:t.CurrentDocument.title,Request:t.CurrentDocument.doc_id}}),n("b-card",[null!=t.LinksTo?n("b-container",[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"link_to_block",expression:"'link_to_block'"}]},[t._v("Цитирование этого документа")]),n("b-collapse",{attrs:{id:"link_to_block"}},[n("b-card-body",[n("multipage-links-view",{attrs:{SearchResults:t.LinksTo,Step:5,DefaultCollapse:!0}})],1)],1)],1):n("p",[t._v(" Выполняется предобработка...")])],1),n("div",{staticClass:"text-block"},[null!==t.ProcessedText?n("div",[n("v-runtime-template",{attrs:{template:t.ProcessedText}})],1):n("p",[t._v("\n                Выполняется предобработка...\n            ")])])],1):n("div",[n("p",[t._v("Документ загружается...")])])])},he=[],ve=(n("55dd"),n("dd1e")),_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[t.LinksCount>0?n("div",{staticClass:"search-result-block"},[n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?n("div",{staticClass:"links-block"},[n("b-card-group",[n("LinkBoxView",{attrs:{Links:t.Links,CollapseDefault:t.CollapseDefault}})],1),n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):n("p",[t._v("Загружается...")])]):n("b-container",[t._v("\n            Не обнаружено.\n    ")])],1)},ge=[],be={name:"MultipageLinksView",props:{SearchResults:Array,Step:Number,CollapseDefault:Boolean},data:function(){return{CurrentRange:[1,this.Step],tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t},StoredLinks:function(){return this.$store.StoredLinks}},components:{PageList:Wt,LinkBoxView:te},methods:{getLinks:function(t){this.CurrentRange=t;var e=JSON.stringify(this.SearchResults)+JSON.stringify(t),n=this.$store.getters.getStoredLinks(e);if(null!=n)return this.isLoaded=!0,void(this.Links=n);this.isLoaded=!1;var i=this;w.RequestLinks(t,x.Links,this.SearchResults,function(t){i.isLoaded=!0,i.Links=t,i.$store.commit(ft.NEW_LINKS_PACK,{request:e,result:t})})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},Se=be,Ce=(n("e968"),Object(vt["a"])(Se,_e,ge,!1,null,"c8b70234",null));Ce.options.__file="MultipageLinksView.vue";var ke=Ce.exports,Re={name:"DocumentView",components:{multipageLinksView:ke,VRuntimeTemplate:ve["a"],FavoriteManager:gt},data:function(){return{Step:5,LinksTo:null,LinksPackFrom:null,CurrentDocument:null,tmp:"none"}},computed:{SortedAloneLinks:function(){if(null===this.LinksPackFrom||null===this.LinksTo)return null;for(var t=[],e=0;e<this.LinksPackFrom.length;e++){for(var n=this.LinksPackFrom[e],i=0;i<n.positions_list.length;i++)var s={doc_id_from:n.doc_id_from,doc_id_to:n.doc_id_to,to_doc_title:n.to_doc_title,position:n.positions_list[i]};t.push(s)}return t.sort(function(t,e){return t.position.link_start-e.position.link_end}),t},ProcessedText:function(){if(null===this.CurrentDocument||null===this.SortedAloneLinks)return null;for(var t=this.CurrentDocument.text,e="<div><template>",n=0,i=0;i<this.SortedAloneLinks.length;i++){var s=this.SortedAloneLinks[i];e+=t.slice(n,s.position.link_start);var a=t.slice(s.position.link_start,s.position.link_end+1);e+='<b-btn size="sm" variant="link"  @click="OpenLink(\'/document/'.concat(z.StashDocId(s.doc_id_to),"/0')\">").concat(a,"</b-btn>"),n=s.position.link_end}return e+=t.slice(n,t.length),e+="</template></div>",e}},methods:{OpenLink:function(t){this.$router.push(t),this.tmp=t},Init:function(t){this.LinksTo=null,this.LinksPackFrom=null,this.CurrentDocument=null;var e=z.DeStashDocId(t.params.doc_id),n=this;w.RequestDocument(e,x.Document,function(t,e){null===t&&alert("Error while getting document. Error code: "+e),n.CurrentDocument=t}),w.RequestSearch("*->".concat(e),x.Search,function(t){n.LinksTo=t}),w.RequestSearch("".concat(e,"->*"),x.Search,function(t){w.RequestLinks([1,t.Size],x.Links,t,function(t){n.LinksPackFrom=t})})}},created:function(){this.Init(this.$route)},beforeRouteUpdate:function(t,e,n){this.Init(t),n()}},Ee=Re,ye=(n("43b6"),Object(vt["a"])(Ee,pe,he,!1,null,"a711c6f0",null));ye.options.__file="DocumentView.vue";var Le=ye.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[n("div",{staticClass:"logo"},[t._v("Sign Up")]),n("div",{staticClass:"login-form-1"},[n("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[n("div",{staticClass:"login-form-main-message"}),n("div",{staticClass:"main-login-form"},[""!=t.errMessage?n("div",[n("p",{staticClass:"danger"},[t._v(t._s(t.errMessage))])]):t._e(),n("div",{staticClass:"login-group"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("first name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"first name",required:""},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("last name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"last name",required:""},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}}),n("div",[n("b-btn",{staticClass:"register-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Register")])],1)])])])])])])},Oe=[];function Te(t){return""!=t.password&&t.email.indexOf("@")>-1&&""!=t.firstName&&""!=t.LastName}function De(t){return 400==t.code&&"user already exist"==t.message}var we={CheckRegModel:Te,isUserExistError:De},Fe={name:"SignInForm",data:function(){return{email:"Rexarrior@yandex.ru",password:"sTame_342",first_name:"Ksandr",last_name:"renderon",organization:"none",errMessage:""}},methods:{register:function(){var t=this,e={email:this.email,password:this.password,first_name:this.first_name,last_name:this.last_name,organization:this.organization};we.CheckRegModel(e)&&this.$store.dispatch(Z,e).then(function(){t.$router.push("/")},function(e){we.isUserExistError(e)&&(t.errMessage=e)})}}},xe=Fe,Pe=(n("b1a1"),Object(vt["a"])(xe,qe,Oe,!1,null,"3ac1c57c",null));Pe.options.__file="SignUpForm.vue";var Ae=Pe.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-card",{attrs:{"md-8":""}},[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"favorite-requests-collapse"+(t.isModal?"-modal":""),expression:"`favorite-requests-collapse${isModal?'-modal':''}`"}]},[t._v("\n           Избранные запросы\n        ")]),n("b-collapse",{attrs:{id:"favorite-requests-collapse"+(t.isModal?"-modal":""),visible:!t.isModal}},[n("b-card-body",{staticClass:"content"},[t.isRequestsNotEmpty?n("b-container",t._l(t.Requests,function(e,i){return n("b-card",{key:i,staticClass:" text-center content-card"},[n("h5",[t._v(t._s(e.caption))]),n("h6",[n("i",[t._v(t._s(e.body))])]),""!=e.description?n("span",[n("p",[t._v(" "+t._s(e.description))])]):t._e(),n("b-card-footer",[t.isModal?n("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetReqPath(e.body)}},[t._v("Invoke")]):n("b-row",[n("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetReqPath(e.body)}},[t._v("Применить")]),n("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"outline-success"},on:{click:function(n){t.Edit("request",e.body,e)}}},[t._v("Редактировать")]),n("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"danger"},on:{click:function(n){t.DelReq(e.body)}}},[t._v("Удалить")])],1)],1)],1)})):n("div",[t._v("\n                    Нет избранных запросов. \n                ")])],1)],1),t.isModal?t._e():n("b-card-footer",[n("b-btn",{attrs:{variant:"success",size:"sm",to:t.newRequestUrl}},[t._v("Новый запрос ")])],1)],1),n("b-card",{attrs:{"md-8":""}},[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"favorite-documents-collapse"+(t.isModal?"-modal":""),expression:"`favorite-documents-collapse${isModal?'-modal':''}`"}]},[t._v("\n            Избранные документы\n        ")]),n("b-collapse",{attrs:{id:"favorite-documents-collapse"+(t.isModal?"-modal":""),visible:!t.isModal}},[n("b-card-body",{staticClass:"content"},[t.isDocumentsNotEmpty?n("b-container",t._l(t.Documents,function(e,i){return n("b-card",{key:i,staticClass:" text-center content-card"},[n("h5",[t._v(t._s(e.caption))]),n("h6",[n("i",[t._v(t._s(e.body))])]),""!=e.description?n("span",[n("p",[t._v(" "+t._s(e.description))])]):t._e(),n("h4",[t._v("Заголовок")]),n("p",{staticClass:"text-center"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),n("b-card-footer",[t.isModal?t._e():n("b-row",[n("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetDocPath(e.body)}},[t._v("Документ")]),n("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"outline-success"},on:{click:function(n){t.Edit("document",e.body,e)}}},[t._v("Редактировать")]),n("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"danger"},on:{click:function(n){t.DelDoc(e.body)}}},[t._v("Удалить")])],1),n("hr"),n("b-row",[n("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetReqLinks(e.body,"from")}},[t._v("Ссылки из")]),n("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"link",to:t.GetReqLinks(e.body,"to")}},[t._v("Ссылки в")])],1)],1)],1)})):n("div",[t._v("\n                    Нет избранных документов\n                ")])],1)],1)],1)],1)},Ne=[],Ue=(n("456d"),{name:"UserFavoritesView",props:{isModal:Boolean},data:function(){return{newRequestUrl:"".concat(A.AddFavorite,"/request"),newDocumentUrl:"".concat(A.AddFavorite,"/document"),fullView:A.UserFavorites,Requests:{},Documents:{},isRequestsNotEmpty:!0,isDocumentsNotEmpty:null}},computed:{},methods:{Update:function(){this.Requests=this.$store.getters.favoriteRequests,this.isRequestsEmpty=Object.keys(this.Requests).length>0,this.Documents=this.$store.getters.favoriteDocuments,this.isDocumentsNotEmpty=Object.keys(this.Documents).length>0},GetReqPath:function(t){var e=z.StashRequest(t);return"".concat(A.Search,"/").concat(e)},GetReqLinks:function(t,e){var n="";return n="from"==e?"".concat(t).concat(S.CitationPartsDelimiter).concat(C.any_front):"".concat(C.any_front).concat(S.CitationPartsDelimiter).concat(t),"".concat(A.Search,"/").concat(z.StashRequest(n))},GetDocPath:function(t){var e=z.StashDocId(t);return"document/".concat(e,"/0")},DelReq:function(t){this.$store.commit(ft.DELETE_FAVORITE_REQ,{req:t}),this.Update()},DelDoc:function(t){this.$store.commit(ft.DELETE_FAVORITE_DOC,{req:t}),this.Update()},Edit:function(t,e){var n="";n="request"==t?z.StashRequest(e):z.StashDocId(e),this.$router.push("".concat(A.AddFavorite,"/").concat(t,"/").concat(n))},GoToNew:function(t){this.$emit("finish"),"request"==t?this.$router.push(this.newRequestUrl):this.$router.push(this.newDocumentUrl)}},created:function(){var t=this;this.isModal&&this.$store.commit(ft.SET_ON_FAVORITE_UPDATE,function(){t.Update()}),this.Update()},destroyed:function(){this.isModal&&this.$store.commit(ft.DELETE_ON_FAVORITE_UPDATE)}}),$e=Ue,je=(n("be62"),Object(vt["a"])($e,Ie,Ne,!1,null,"2ee8993e",null));je.options.__file="UserFavoriteView.vue";var Me=je.exports,Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[n("div",{staticClass:"login-form-1"},[n("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"login-form-main-message"}),n("div",{staticClass:"main-login-form"},[n("div",{staticClass:"login-group"},[n("div",{staticClass:"form-group"},["request"==t.target?n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Запрос")]):n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Номер документа")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.bodyPlaceholder,required:""},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Название")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Название",required:""},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Комментарий")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Комментарий"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("div",[n("b-btn",{staticClass:"submit-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Сохранить")])],1),"edit"==t.mode?n("div",[n("b-btn",{staticClass:"submit-btn",attrs:{size:"sm",variant:"outline-success"}},[t._v("Отменить")])],1):t._e()])])])])])])},ze=[],Be=["request","document"],He=["new","edit"],Ge={name:"AddFavoriteForm",props:{init_target:String,mode:String,model:String,isModal:Boolean},data:function(){return{body:"",oldBody:"",caption:"",description:"",target:"",Modal:!1}},computed:{bodyPlaceholder:function(){return"request"==this.target?"Поисковый запрос":"Номер документа"}},methods:{abort:function(){this.$emit("Abort"),this.$emit("Finish"),this.$router.push(A.UserFavorites)},submit:function(){var t={caption:this.caption,description:this.description,body:this.body},e="",n="";"request"==this.target?"edit"==this.mode?(e=ft.EDIT_FAVORITE_REQ,n=this.oldBody):(e=ft.NEW_FAVORITE_REQ,n=this.body):"edit"==this.mode?(e=ft.EDIT_FAVORITE_DOC,n=this.oldBody):(e=ft.NEW_FAVORITE_DOC,n=this.body),this.$store.commit(e,{req:n,model:t}),this.oldBody="",this.body="",this.caption="",this.description="",this.$emit("Finish"),this.Modal||this.$router.push(A.UserFavorites)}},created:function(){var t=null;if("route"==this.init_target){if(this.target=this.$route.params.target,"edit"==this.mode){var e=this.$route.params.body;"request"==this.target?(e=z.DeStashRequest(e),t=this.$store.getters.getFavoriteRequest(e)):(e=z.DeStashDocId(e),t=this.$store.getters.getFavoriteDocument(e)),null==t&&this.$router.push(A.PageNotFound)}}else this.target=this.init_target;void 0==this.target||void 0==this.mode||-1!=Be.indexOf(this.target)&&-1!=He.indexOf(this.mode)||this.$router.push(A.PageNotFound),(this.model||null!=t)&&(null==t&&this.model,this.caption=t.caption,this.description=t.description,this.body=t.body,"edit"==this.mode&&(this.oldBody=this.body)),this.isModal&&(this.Modal=this.isModal)}},Je=Ge,We=Object(vt["a"])(Je,Ve,ze,!1,null,null,null);We.options.__file="AddFavoriteForm.vue";var Qe=We.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-card",[n("b-card-body",{staticClass:"card-body"},[n("h1",[t._v("This page not found.")]),n("h3",[n("i",[t._v("You can go to")])]),n("ul",[n("li",[n("router-link",{attrs:{to:t.HomePage}},[t._v("Home page")])],1),n("li",[n("router-link",{attrs:{to:t.Search}},[t._v("Search")])],1),n("li",[n("router-link",{attrs:{to:t.Favorites}},[t._v("Favorite requests and documents")])],1)])])],1)],1)},Xe=[],Ye={name:"PageNotFound",data:function(){return{HomePage:A.HomePage,Search:A.Search,Favorites:A.UserFavorites}}},Ze=Ye,tn=(n("db02"),Object(vt["a"])(Ze,Ke,Xe,!1,null,null,null));tn.options.__file="PageNotFound.vue";var en=tn.exports,nn=[{path:A.HomePage,component:fe},{name:"document",path:"".concat(A.Document,"/:doc_id/:hash"),component:Le},{path:"".concat(A.Search,"/:request"),component:ce},{path:"/search/",redirect:"/search/ "},{path:A.SignUp,component:Ae},{path:A.UserFavorites,component:Me},{path:"".concat(A.AddFavorite,"/:target"),component:Qe,props:{init_target:"route",mode:"new"}},{path:"".concat(A.AddFavorite,"/:target/:body"),component:Qe,props:{init_target:"route",mode:"edit"}},{path:A.PageNotFound,component:en}],sn=new a["a"]({routes:nn}),an={Router:sn},on=n("2f62"),rn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},cn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"page-footer font-small white"},[n("div",{staticClass:"footer-copyright text-center py-3"},[t._v("© 2018 Copyright:\n        "),n("a",{attrs:{href:"https://github.com/orgs/robot-lab/teams/team-judicial-analysis/members"}},[t._v(" Judyst team")])])])}],un={name:"Navbar"},ln=un,dn=(n("3382"),Object(vt["a"])(ln,rn,cn,!1,null,"401daa4c",null));dn.options.__file="Footer.vue";var mn=dn.exports,fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-navbar",{staticClass:"navbar-main",attrs:{toggleble:"sd",fixed:"top",type:"dark",variant:"dark"}},[n("div",{staticClass:"navbar-header"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Judyst")])],1),n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{attrs:{to:"/search/"}},[t._v("Search")])],1),n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{attrs:{to:t.favoritesUrl}},[t._v("Favorites")])],1),n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.FavoriteModal",modifiers:{FavoriteModal:!0}}]},[n("i",{staticClass:"far fa-eye"})])],1),n("b-navbar-nav",{staticClass:"ml-auto"}),t.isAuthenticated?n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{on:{click:function(e){t.logout()}}},[t._v("Sign out")])],1):t._e(),t.isAuthenticated?t._e():n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.signInModal",modifiers:{signInModal:!0}}]},[t._v("Sign In")])],1),t.isAuthenticated?t._e():n("b-navbar-nav",{staticClass:"nav-item-wrapper"},[n("b-nav-item",{attrs:{to:t.signUpUrl}},[t._v("Sign Up")])],1),n("b-modal",{ref:"FavoriteModalRef",attrs:{id:"FavoriteModal","hide-footer":"","hide-title":""}},[n("user-favorites-view",{attrs:{isModal:!0}})],1),n("b-modal",{ref:"signInModalRef",attrs:{id:"signInModal","hide-footer":"","hide-title":""}},[n("sign-in-form")],1)],1)},pn=[],hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[n("div",{staticClass:"logo"},[t._v("Sign in")]),n("div",{staticClass:"login-form-1"},[n("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("div",{staticClass:"login-form-main-message"}),n("div",{staticClass:"main-login-form"},[n("div",{staticClass:"login-group"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._m(0)]),n("div",{staticClass:"etc-login-form"},[n("p",[t._v("new user? "),n("router-link",{attrs:{to:t.signUpUrl}},[t._v("create new account")])],1)])])])])},vn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"login-button",attrs:{type:"submit"}},[n("i",{staticClass:"fa fa-chevron-right"})])}],_n={name:"SignInForm",data:function(){return{email:"",password:"",signUpUrl:A.SignUp}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{login:function(){var t=this,e=this.email,n=this.password;this.$store.dispatch(G,{email:e,password:n}).then(function(){t.$router.push("/")})}}},gn=_n,bn=(n("fc6b"),Object(vt["a"])(gn,hn,vn,!1,null,null,null));bn.options.__file="SignInForm.vue";var Sn=bn.exports,Cn={name:"Navbar",data:function(){return{signUpUrl:A.SignUp,favoritesUrl:A.UserFavorites}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){var t=this;this.$store.dispatch(ft.AUTH_LOGOUT).then(function(){t.$router.push("/")})}},watch:{isAuthenticated:function(){this.isAuthenticated&&this.$refs.signInModalRef.hide()}},components:{UserFavoritesView:Me,SignInForm:Sn}},kn=Cn,Rn=(n("366a"),Object(vt["a"])(kn,fn,pn,!1,null,"0ef78a24",null));Rn.options.__file="Navbar.vue";var En=Rn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"workspace"},[n("router-view")],1)},Ln=[],qn={name:"Workspace",components:{},created:function(){this.$store.dispatch(ft.UPDATE_FROM_STORAGE).then()}},On=qn,Tn=(n("2447"),Object(vt["a"])(On,yn,Ln,!1,null,null,null));Tn.options.__file="Workspace.vue";var Dn,wn,Fn,xn,Pn=Tn.exports,An=n("a322"),In={token:localStorage.getItem("user-token")||"",status:""},Nn={isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status},token:function(t){return t.token}},Un=(Dn={},Object(An["a"])(Dn,G,function(t,e){var n=t.commit;t.dispatch;return new Promise(function(t,i){n(G),c()({url:x.Auth_signin,data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){var i=e.data.token;if(void 0===i)throw"Token is undefined";localStorage.setItem("user-token",i),c.a.defaults.headers.common["Authorization"]="Token "+i,n(J,i),t(e)}).catch(function(t){n(W,t),localStorage.removeItem("user-token"),i(t)})})}),Object(An["a"])(Dn,Q,function(t){var e=t.commit;t.dispatch;return new Promise(function(t,n){e(Q),c()({url:x.Auth_signout,method:"GET"}),localStorage.removeItem("user-token"),delete c.a.defaults.headers.common["Authorization"],t()})}),Object(An["a"])(Dn,Z,function(t,e){var n=t.commit;t.dispatch;return new Promise(function(t,i){n(Z),c()({url:x.Auth_signup,data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){var i=e.data.token;localStorage.setItem("user-token",i),c.a.defaults.headers.common["Authorization"]=i,n(tt,i),t(e)}).catch(function(t){n(et,t),localStorage.removeItem("user-token"),i(t)})})}),Dn),$n=(wn={},Object(An["a"])(wn,G,function(t){t.status="loading"}),Object(An["a"])(wn,Q,function(t){t.status="",t.token=void 0}),Object(An["a"])(wn,J,function(t,e){t.status="success",t.token=e}),Object(An["a"])(wn,W,function(t){t.status="error"}),Object(An["a"])(wn,Z,function(t){t.status="loading"}),Object(An["a"])(wn,tt,function(t,e){t.status="success",t.token=e}),Object(An["a"])(wn,et,function(t){t.status="error"}),wn),jn={state:In,getters:Nn,mutations:$n,actions:Un},Mn={storedSearch:{},storedLinksPack:{}},Vn={getStoredRes:function(t){return function(e){return e in t.storedSearch?t.storedSearch[e]:null}},storedResults:function(t){return t.storedSearch},getStoredLinks:function(t){return function(e){return e in t.storedLinksPack?t.storedLinksPack[e]:null}},storedLinks:function(t){return t.storedLinks}},zn=(Fn={},Object(An["a"])(Fn,it,function(t,e){t.storedSearch[e.request]=e.result}),Object(An["a"])(Fn,nt,function(t,e){t.storedLinksPack[e.request]=e.result}),Fn),Bn={},Hn={state:Mn,getters:Vn,mutations:zn,actions:Bn},Gn=localStorage,Jn={getItem:function(t,e){return Gn.getItem(e+t)},setItem:function(t,e,n){return Gn.setItem(e+t,n)},removeItem:function(t,e){return Gn.removeItem(e+t)},clear:function(){return Gn.clear()},key:function(t){return Gn.key(t)}},Wn=!0,Qn={favoriteRequests:{},favoriteDocuments:{},onFavoriteUpdate:null},Kn={favoriteRequests:function(t){return t.favoriteRequests},favoriteDocuments:function(t){return t.favoriteDocuments},getFavoriteRequest:function(t){return function(e){return e in t.favoriteRequests?t.favoriteRequests[e]:null}},getFavoriteDocument:function(t){return function(e){return e in t.favoriteDocuments?t.favoriteDocuments[e]:null}}},Xn=(xn={},Object(An["a"])(xn,st,function(t,e){t.favoriteRequests[e.req]=e.model,Wn&&Jn.setItem(e.req,"req_",JSON.stringify(e.model))}),Object(An["a"])(xn,at,function(t,e){var n=t.favoriteRequests[e.req];delete t.favoriteRequests[e.req],n.body=e.model.body,n.caption=e.model.caption,n.description=e.model.description,t.favoriteRequests[e.body]=n,Wn&&(Jn.removeItem(e.req,"req_"),Jn.setItem(e.req,"req_",JSON.stringify(e.model)))}),Object(An["a"])(xn,ot,function(t,e){delete t.favoriteRequests[e.req],Wn&&Jn.removeItem(e.req,"req_")}),Object(An["a"])(xn,rt,function(t,e){t.favoriteDocuments[e.req]=e.model,Wn&&Jn.setItem(e.req,"doc_",JSON.stringify(e.model))}),Object(An["a"])(xn,ct,function(t,e){var n=t.favoriteDocuments[e.req];delete t.favoriteDocuments[e.req],n.body=e.model.body,n.caption=e.model.caption,n.title=e.model.title,n.description=e.model.description,t.favoriteDocuments[e.body]=n,Wn&&(Jn.removeItem(e.req,"doc_"),Jn.setItem(e.req,"doc_",JSON.stringify(e.model)))}),Object(An["a"])(xn,ut,function(t,e){delete t.favoriteDocuments[e.req],Wn&&Jn.removeItem(e.req,"doc_")}),Object(An["a"])(xn,dt,function(t,e){null==t.onFavoriteUpdate&&(t.onFavoriteUpdate=[]),t.onFavoriteUpdate.push(e)}),Object(An["a"])(xn,mt,function(t){t.onFavoriteUpdate=null}),xn),Yn=Object(An["a"])({},lt,function(t){var e=t.commit;t.dispatch;return new Promise(function(t,n){try{Wn=!1;var i=0,s=Gn.key(i);while(null!==s){var a=s.split("_"),o=a[0];if("req"==o||"doc"==o){var r=a.slice(1,a.length).join(""),c="req"==o?st:rt,u=JSON.parse(Gn.getItem(s));e(c,{req:r,model:u})}i+=1,s=Gn.key(i)}t(),Wn=!0}catch(t){Wn=!0,n(t)}})}),Zn=[rt,st,ct,at],ti={OnFavoriteUpdateEmitter:function(t){t.subscribe(function(t,e){if(null!=e.onFavoriteUpdate&&-1!=Zn.indexOf(t.type))for(var n=0;n<e.onFavoriteUpdate.length;n++)e.onFavoriteUpdate[n]()})}},ei={state:Qn,getters:Kn,mutations:Xn,actions:Yn,plugins:ti};s.a.use(on["a"]);var ni={name:"app",router:an.Router,store:new on["a"].Store({modules:{auth_store:jn,search_store:Hn,favorite_store:ei}}),components:{Footer:mn,Navbar:En,Search:ce,Workspace:Pn}},ii=ni,si=(n("034f"),Object(vt["a"])(ii,u,l,!1,null,null,null));si.options.__file="App.vue";var ai=si.exports;s.a.config.productionTip=!1,s.a.use(a["a"]),s.a.use(o["a"]),new s.a({render:function(t){return t(ai)}}).$mount("#app");var oi=localStorage.getItem("user-token");oi&&(c.a.defaults.headers.common["Authorization"]=oi)},"58b5":function(t,e,n){"use strict";var i=n("f901"),s=n.n(i);s.a},"59be":function(t,e,n){"use strict";var i=n("b65b"),s=n.n(i);s.a},"59fb":function(t,e,n){},"62f3":function(t,e,n){},"67f6":function(t,e,n){},"6bc4":function(t,e,n){},"6f3c":function(t,e,n){},7905:function(t,e,n){"use strict";var i=n("16e0"),s=n.n(i);s.a},"7c23":function(t,e,n){"use strict";var i=n("6f3c"),s=n.n(i);s.a},"8a68":function(t,e,n){},"8bc4":function(t,e,n){},"8f56":function(t,e,n){"use strict";var i=n("2b44"),s=n.n(i);s.a},a07b:function(t,e,n){},a3bb:function(t,e,n){"use strict";var i=n("bfc3"),s=n.n(i);s.a},b0be:function(t,e,n){"use strict";var i=n("62f3"),s=n.n(i);s.a},b1a1:function(t,e,n){"use strict";var i=n("c882"),s=n.n(i);s.a},b65b:function(t,e,n){},be62:function(t,e,n){"use strict";var i=n("c7e6"),s=n.n(i);s.a},bfc3:function(t,e,n){},c21b:function(t,e,n){},c7e6:function(t,e,n){},c882:function(t,e,n){},ced4:function(t,e,n){},d483:function(t,e,n){"use strict";var i=n("d7f7"),s=n.n(i);s.a},d7f7:function(t,e,n){},db02:function(t,e,n){"use strict";var i=n("ced4"),s=n.n(i);s.a},e968:function(t,e,n){"use strict";var i=n("6bc4"),s=n.n(i);s.a},f901:function(t,e,n){},fc6b:function(t,e,n){"use strict";var i=n("8a68"),s=n.n(i);s.a}});
//# sourceMappingURL=app.507c6701.js.map