(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)r=o[d],s[r]&&f.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02fb":function(t,e,n){"use strict";var i=n("543b"),s=n.n(i);s.a},"034f":function(t,e,n){"use strict";var i=n("c21b"),s=n.n(i);s.a},"0c78":function(t,e,n){"use strict";var i=n("8bc4"),s=n.n(i);s.a},"0e25":function(t,e,n){"use strict";var i=n("f49e"),s=n.n(i);s.a},2447:function(t,e,n){"use strict";var i=n("59fb"),s=n.n(i);s.a},"543b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("5ee5"),s=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("Workspace"),n("Footer")],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"link-search-main"},[n("SearchBlock",{staticClass:"search-block",attrs:{Request:t.SearchRequest},on:{SearchResultsReceived:function(e){t.SearchResult=e}}}),null!=t.SearchResult?n("SearchResultsBlock",{attrs:{SearchResults:t.SearchResult}}):t._e()],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("div",{staticClass:"col-12"},[n("div",{attrs:{id:"custom-search-input"}},[t.isLoading?n("p",[t._v(" Ведется поиск...")]):t._e(),n("div",{staticClass:"input-group"},[n("input",{staticClass:"search-query form-control",attrs:{type:"text",id:"input-search",placeholder:"Поиск"},domProps:{value:t.SearchRequest},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.SearchButtonClick()}}}),n("span",{staticClass:"input-group-btn"},[n("button",{attrs:{type:"button"}},[n("span",{staticClass:"fa fa-search",on:{click:function(e){t.SearchButtonClick()}}})])])])])])])],1)},l=[];n("ac6a"),n("28a5");function d(t){return t.map(function(t){return t.trim()}).filter(function(t){if(""!==t)return t})}function f(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}var h={trimFromSpaces:d,distinctArr:f},p={ElemsDelimiter:",",CitationPartsDelimiter:"->"},_={any_front:"*",any_back:-1};function v(t){var e=t.split(p.CitationPartsDelimiter);if(e=h.trimFromSpaces(e),e.length<2)return null;var n=e[0].split(p.ElemsDelimiter);n=h.trimFromSpaces(n),n=h.distinctArr(n);var i=e[1].split(p.ElemsDelimiter),s=[];if(i=h.trimFromSpaces(i),i=h.distinctArr(i),-1!==n.indexOf(_.any_front))if(-1!==i.indexOf(_.any_front))s.push({doc_id_from:_.any_back,doc_id_to:_.any_back});else for(var a=0;a<i.length;a++)s.push({doc_id_from:_.any_back,doc_id_to:i[a]});else if(-1!==i.indexOf(_.any_front))for(a=0;a<n.length;a++)s.push({doc_id_from:n[a],doc_id_to:_.any_back});else for(a=0;a<n.length;a++)for(var r=0;r<i.length;r++)s.push({doc_id_from:n[a],doc_id_to:i[r]});return s}var m={CitationFastSearch:v},k={sampleKeyword:"sampleKeyword"};function b(){throw"Not implemented!"}function C(t){var e=k.values;for(var n in e)if(-1!==t.indexOf(n))return b(t);if(t.indexOf(p.CitationPartsDelimiter))return m.CitationFastSearch(t);throw"Not implemented!"}var S=C;function g(t,e,n,i){var s=0,a=0,r=0,o=0,c=[],u=function(t,n){var i={doc_id_from:n.doc_id_from,doc_id_to:n.doc_id_to,range:t},s=JSON.stringify(i),a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("content-type","application/json"),a.send(s),a.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){for(var t=a.responseText,e=JSON.parse(t),n=[],i=0;i<e.length;i++)n.push(e[i]);c=c.concat(n),o++}else alert("ошибка: "+(this.status?this.statusText:"запрос не удался"))}};while(a<n.length&&s<t[0]){if(!(s+n[a].Size<=t[0])){var l=t[0]-s;if(s+n[a].Size<=t[1]){var d=[l,n[a].Size];s+=n[a].Size}else{var f=t[1]-s;d=[l,f],s+=t[1]-t[0]}r++;var h=a;setTimeout(function(){u(d,n[h])},0),a++;break}s+=n[a].Size,a++}while(a<n.length&&s<t[1])s+n[a].Size<=t[1]?(d=[0,n[a].Size],s+=n[a].Size):(d=[0,t[1]-s],s=t[1]),h=a,setTimeout(function(){u(d,n[h])},0),r++,a++;var p=function t(){r<=o?i(c):setTimeout(t,500)};setTimeout(p,0)}function L(t,e,n){var i=S(t);if(null!=i){for(var s=[],a=0,r=0;r<i.length;r++){var o=i[r],c=JSON.stringify(o),u=new XMLHttpRequest;u.open("POST",e,!0),u.setRequestHeader("content-type","application/json"),u.send(c),u.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);s.push({Size:e.size,doc_id_from:o.doc_id_from,doc_id_to:o.doc_id_to}),a+=1}else a+=1}}var l=function t(){a===i.length?n(s):setTimeout(t,500)};setTimeout(l,500)}else n(null)}function R(t,e,n){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("content-type","application/json");var s=JSON.stringify({doc_id:t});i.send(s),i.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);n(e)}else n(null,this.status)}}var y={RequestLinks:g,RequestSearch:L,RequestDocument:R},x="",w={Search:"".concat(x,"/api/search/number_of_links"),Document:"".concat(x,"/api/search/document"),Links:"".concat(x,"/api/search/get")},P={Search:"/search"},O={doc_id_delimiter:["/","-_-"]};function q(t){var e,n,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}function D(t){return q("".concat(t.doc_id_from).concat(t.doc_id_to))}function j(t){return t.split(O.doc_id_delimiter[0]).join(O.doc_id_delimiter[1])}function T(t){return t.split(O.doc_id_delimiter[1]).join(O.doc_id_delimiter[0])}function $(t){return t=t.split(O.doc_id_delimiter[0]).join(O.doc_id_delimiter[1]),t}function E(t){return t=t.split(O.doc_id_delimiter[1]).join(O.doc_id_delimiter[0]),t}var N={Hash:q,StashDocId:j,DeStashDocId:T,HashLink:D,StashRequest:$,DeStashRequest:E},z={name:"SearchBlock",props:{Request:String},data:function(){return{url:w.Search,SearchRequest:"",isLoading:!1,tmp:"none"}},methods:{SearchButtonClick:function(){var t=document.getElementById("input-search").value;t=N.StashRequest(t),this.$router.push("".concat(P.Search,"/").concat(t))},Update:function(){if(null!=this.Request){this.SearchRequest=N.DeStashRequest(this.Request);var t=this;this.isLoading=!0,y.RequestSearch(this.SearchRequest,this.url,function(e){t.$emit("SearchResultsReceived",e),t.isLoading=!1})}}},watch:{Request:function(){this.Update()}},created:function(){this.Update()}},B=z,I=(n("5ff8"),n("2877")),V=Object(I["a"])(B,u,l,!1,null,"58f8333b",null);V.options.__file="SearchBlock.vue";var F=V.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[t.LinksCount>0?n("div",{staticClass:"search-result-block"},[n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),n("SearchStatistics",{attrs:{SearchResults:t.SearchResults,Count:t.LinksCount}}),t.isLoaded?n("div",{staticClass:"links-block"},[n("LinkBoxView",{attrs:{Links:t.Links,DefaultCollapse:!1}}),n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):n("p",[t._v("Загружается...")])],1):n("div",{staticClass:"container"},[t._v("\n            Поиск не дал результатов. \n    ")])])},H=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LinkView",{attrs:{CleanLink:t.CleanLink}})},M=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-container container card"},[n("b-card-header",{staticClass:"link-header"},[n("span",[n("p",[t._v("Цитирующий документ: "),n("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_from))])],1)]),n("span",[n("p",[t._v("Цитируемый документ: "),n("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_to)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_to))])],1)])]),n("b-card-body",[n("p",[n("b",[t._v("Заголовок цитируемого документа:")]),t._v(" "+t._s(t.CleanLink.to_doc_title)+"\n                ")]),n("span",[n("p",[t._v("Количество упоминаний: "+t._s(t.CleanLink.citations_number)+" ")])]),n("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.TitleId,expression:"TitleId"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"context-toggler",attrs:{title:"Нажмите, чтобы просмотреть контекст цитаты"}},[t._v("\n                    Контекст цитирования\n                ")]),n("b-collapse",{attrs:{id:t.TitleId}},t._l(t.CitationsRange,function(e){return n("b-card-group",{key:e},[n("b-card",[n("b-card-header"),n("b-card-body",[n("p",[t._v(t._s(t.CleanLink.contexts[e].before)+" "),n("b",[t._v(t._s(t.CleanLink.contexts[e].citation))]),t._v(" "+t._s(t.CleanLink.contexts[e].after)+" ")])]),n("b-card-footer",[n("router-link",{attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/"+t.utils.HashLink(t.CleanLink)}},[t._v("\n                            Перейти к цитате в тексте\n                        ")])],1)],1)],1)}))],1)],1)},W=[],X={name:"LinkView",props:{CleanLink:Object,DefaultCollapse:Boolean},data:function(){return{utils:N}},computed:{CitationsRange:function(){for(var t=[],e=0;e<this.CleanLink.citations_number;e++)t.push(e);return t},TitleId:function(){return"#collapse_"+this.CleanLink.doc_id_from+"-"+this.CleanLink.doc_id_to}},methods:{GetPositionLink:function(t,e){return"#"+t+"__"+e}}},K=X,G=(n("0c78"),Object(I["a"])(K,U,W,!1,null,null,null));G.options.__file="LinkView.vue";var Q=G.exports,Y={name:"SearchResult",components:{LinkView:Q},props:{CleanLink:Object},computed:{},methods:{}},Z=Y,tt=(n("7c23"),Object(I["a"])(Z,J,M,!1,null,"d66bb60e",null));tt.options.__file="SearchResult.vue";var et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"search-request-statistics",expression:"'search-request-statistics'"}],staticClass:"bg-info text-white"},[t._v("\n            Статистический анализ запроса\n        ")]),n("b-collapse",{attrs:{id:"search-request-statistics"}},[n("b-card-body",[n("p",[t._v("Найдено: "+t._s(t.LinksCount))])])],1)],1)},it=[],st=(n("c5f6"),{name:"SearchStatistics",data:function(){return{tmp:"none"}},props:{SearchResults:Array,Count:Number},computed:{LinksCount:function(){return void 0==this.Count&&this.ComputeCount(),this.Count}},methods:{ComputeCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;this.Count=t}}}),at=st,rt=(n("b0be"),Object(I["a"])(at,nt,it,!1,null,"40ec3108",null));rt.options.__file="SearchStatistics.vue";var ot=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-list"},[n("span",[n("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.FirstPages)}}},[t._v("\n         <<<\n    ")]),t._l(t.PrevioslyPages,function(e){return n("a",{key:e[0],staticClass:"page-link",on:{click:function(n){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),n("p",{staticClass:"page-link current-link"},[t._v("\n        |"+t._s(t.Current[0])+" - "+t._s(t.Current[1])+"|\n    ")]),t._l(t.NextPages,function(e){return n("a",{key:e[0],staticClass:"page-link",on:{click:function(n){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),n("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.LastPages)}}},[t._v("\n        >>>\n    ")])],2)])},ut=[],lt={name:"PageList",data:function(){return{tmp:"none"}},props:{Count:Number,Step:Number,Current:Array},computed:{PrevioslyPages:function(){var t=[],e=this.Current;if(e[0]>2){var n=e[0]-this.Step-1;n<1&&(n=1),t.push([n,e[0]-1])}return t},NextPages:function(){for(var t=[],e=this.Current,n=0;n<2;n++){var i=e;if(e=[i[1]+1,i[1]+this.Step],e[0]>this.Count)break;e[1]>this.Count&&(e[1],this.Count),t.push(e)}return t},FirstPages:function(){var t=[1,this.Step];return t[1]>this.Count&&(t[1]=this.Count),t},LastPages:function(){var t=[this.Count-this.Step+1,this.Count];return t[0]<1&&(t[0]=1),t}}},dt=lt,ft=(n("59be"),Object(I["a"])(dt,ct,ut,!1,null,"cd6f3780",null));ft.options.__file="PageList.vue";var ht=ft.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"links-block"},t._l(t.Links,function(e){return n("div",{key:e.doc_id_from+e.doc_id_to},[n("LinkView",{attrs:{CleanLink:e,CollapseDefault:t.CollapseDefault}})],1)}))},_t=[],vt={name:"LinksBoxView",components:{LinkView:Q},props:{Links:Array,CollapseDefault:Boolean}},mt=vt,kt=(n("0e25"),Object(I["a"])(mt,pt,_t,!1,null,"569d50b9",null));kt.options.__file="LinksBoxView.vue";var bt=kt.exports,Ct={name:"SearchResultBlock",props:{SearchResults:Array},data:function(){return{Step:10,CurrentRange:[1,20],url:w.Links,tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t}},components:{SearchResult:et,PageList:ht,LinkBoxView:bt,SearchStatistics:ot},methods:{getLinks:function(t){this.CurrentRange=t,this.isLoaded=!1;var e=this;y.RequestLinks(t,this.url,this.SearchResults,function(t){e.isLoaded=!0,e.Links=t})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},St=Ct,gt=(n("02fb"),Object(I["a"])(St,A,H,!1,null,"f5080ad4",null));gt.options.__file="SearchResultsBlock.vue";var Lt=gt.exports,Rt={name:"Search",data:function(){return{SearchResult:null,tmp:"none",SearchRequest:null}},methods:{SetSearchRequest:function(t){this.SearchRequest=void 0!=t||null!=t?t.trim():""}},created:function(){this.tmp="1",this.SetSearchRequest(this.$route.params.request)},beforeRouteUpdate:function(t,e,n){this.tmp="2",this.SetSearchRequest(t.params.request),n()},components:{SearchBlock:F,SearchResultsBlock:Lt}},yt=Rt,xt=(n("fe21"),Object(I["a"])(yt,o,c,!1,null,"4f299b83",null));xt.options.__file="Search.vue";var wt=xt.exports,Pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"page-footer font-small white"},[n("div",{staticClass:"footer-copyright text-center py-3"},[t._v("© 2018 Copyright:\n        "),n("a",{attrs:{href:"https://github.com/orgs/robot-lab/teams/team-judicial-analysis/members"}},[t._v(" Judist team")])])])}],qt={name:"Navbar"},Dt=qt,jt=(n("b485"),Object(I["a"])(Dt,Pt,Ot,!1,null,"49877f48",null));jt.options.__file="Footer.vue";var Tt=jt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar fixed-top navbar-dark bg-dark  navbar-main"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"navbar-header"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/",href:"#"}},[t._v("Judyst")])],1)])])},Et=[],Nt={name:"Navbar"},zt=Nt,Bt=(n("cbd0"),Object(I["a"])(zt,$t,Et,!1,null,"1d1da9f4",null));Bt.options.__file="Navbar.vue";var It=Bt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"workspace"},[n("router-view")],1)},Ft=[],At={name:"Workspace",components:{}},Ht=At,Jt=(n("2447"),Object(I["a"])(Ht,Vt,Ft,!1,null,null,null));Jt.options.__file="Workspace.vue";var Mt=Jt.exports,Ut=n("8c4f"),Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container "},[n("Search")],1)},Xt=[],Kt={name:"HomePage",components:{Search:wt}},Gt=Kt,Qt=(n("a3bb"),Object(I["a"])(Gt,Wt,Xt,!1,null,null,null));Qt.options.__file="HomePage.vue";var Yt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"wrap",attrs:{fluid:""}},[null!=t.CurrentDocument?n("div",[n("h5",{staticClass:"title-block"},[n("b",[t._v("Заголовок документа:")]),n("p",[t._v(t._s(t.CurrentDocument.title))])]),n("h4",{staticClass:"id-block"},[n("p",[n("b",[t._v("Номер документа:")]),t._v(" "+t._s(t.CurrentDocument.doc_id))])]),n("h4",{staticClass:"date-block"},[n("p",[n("b",[t._v("Дата публикации:")]),t._v(" "+t._s(t.CurrentDocument.release_date)+" ")])]),n("b-card",[null!=t.LinksTo?n("b-container",[n("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"link_to_block",expression:"'link_to_block'"}]},[t._v("Цитирование этого документа")]),n("b-collapse",{attrs:{id:"link_to_block"}},[n("b-card-body",[n("multipage-links-view",{attrs:{SearchResults:t.LinksTo,Step:5,DefaultCollapse:!0}})],1)],1)],1):n("p",[t._v(" Выполняется предобработка...")])],1),n("div",{staticClass:"text-block"},[null!==t.ProcessedText?n("div",[n("v-runtime-template",{attrs:{template:t.ProcessedText}})],1):n("p",[t._v("\n                Выполняется предобработка...\n            ")])])],1):n("div",[n("p",[t._v("Документ загружается...")])])])},te=[],ee=(n("55dd"),n("dd1e")),ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[t.LinksCount>0?n("div",{staticClass:"search-result-block"},[n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?n("div",{staticClass:"links-block"},[n("b-card-group",[n("LinkBoxView",{attrs:{Links:t.Links,CollapseDefault:t.CollapseDefault}})],1),n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):n("p",[t._v("Загружается...")])]):n("b-container",[t._v("\n            Не обнаружено.\n    ")])],1)},ie=[],se={name:"MultipageLinksView",props:{SearchResults:Array,Step:Number,CollapseDefault:Boolean},data:function(){return{CurrentRange:[1,this.Step],url:"http://localhost:8000/api/search/get",tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t}},components:{PageList:ht,LinkBoxView:bt},methods:{getLinks:function(t){this.CurrentRange=t,this.isLoaded=!1;var e=this;y.RequestLinks(t,this.url,this.SearchResults,function(t){e.isLoaded=!0,e.Links=t})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},ae=se,re=(n("5e90"),Object(I["a"])(ae,ne,ie,!1,null,"7e801284",null));re.options.__file="MultipageLinksView.vue";var oe=re.exports,ce={name:"DocumentView",components:{multipageLinksView:oe,VRuntimeTemplate:ee["a"]},data:function(){return{Step:5,LinksTo:null,LinksPackFrom:null,CurrentDocument:null,tmp:"none"}},computed:{SortedAloneLinks:function(){if(null===this.LinksPackFrom||null===this.LinksTo)return null;for(var t=[],e=0;e<this.LinksPackFrom.length;e++){for(var n=this.LinksPackFrom[e],i=0;i<n.positions_list.length;i++)var s={doc_id_from:n.doc_id_from,doc_id_to:n.doc_id_to,to_doc_title:n.to_doc_title,position:n.positions_list[i]};t.push(s)}return t.sort(function(t,e){return t.position.link_start-e.position.link_end}),t},ProcessedText:function(){if(null===this.CurrentDocument||null===this.SortedAloneLinks)return null;for(var t=this.CurrentDocument.text,e="<div><template>",n=0,i=0;i<this.SortedAloneLinks.length;i++){var s=this.SortedAloneLinks[i];e+=t.slice(n,s.position.link_start);var a=t.slice(s.position.link_start,s.position.link_end+1);e+='<b-btn size="sm" variant="link"  @click="OpenLink(\'/document/'.concat(N.StashDocId(s.doc_id_to),"/0')\">").concat(a,"</b-btn>"),n=s.position.link_end}return e+=t.slice(n,t.length),e+="</template></div>",e}},methods:{OpenLink:function(t){this.$router.push(t),this.tmp=t},Init:function(t){this.LinksTo=null,this.LinksPackFrom=null,this.CurrentDocument=null;var e=N.DeStashDocId(t.params.doc_id),n=this;y.RequestDocument(e,w.Document,function(t,e){null===t&&alert("Error while getting document. Error code: "+e),n.CurrentDocument=t}),y.RequestSearch("*->".concat(e),w.Search,function(t){n.LinksTo=t}),y.RequestSearch("".concat(e,"->*"),w.Search,function(t){y.RequestLinks([1,t.Size],w.Links,t,function(t){n.LinksPackFrom=t})})}},created:function(){this.Init(this.$route)},beforeRouteUpdate:function(t,e,n){this.Init(t),n()}},ue=ce,le=(n("65ca"),Object(I["a"])(ue,Zt,te,!1,null,"4540e000",null));le.options.__file="DocumentView.vue";var de=le.exports,fe=[{path:"/",component:Yt},{name:"document",path:"/document/:doc_id/:hash",component:de},{path:"/search/:request",component:wt},{path:"/search/",redirect:"/search/ "}],he=new Ut["a"]({routes:fe}),pe={Router:he},_e={name:"app",router:pe.Router,components:{Footer:Tt,Navbar:It,Search:wt,Workspace:Mt}},ve=_e,me=(n("034f"),Object(I["a"])(ve,a,r,!1,null,null,null));me.options.__file="App.vue";var ke=me.exports,be=n("9f7b");n("f9e3"),n("2dd8");s.a.config.productionTip=!1,s.a.use(Ut["a"]),s.a.use(be["a"]),new s.a({render:function(t){return t(ke)}}).$mount("#app")},"58d5":function(t,e,n){},"59be":function(t,e,n){"use strict";var i=n("b65b"),s=n.n(i);s.a},"59fb":function(t,e,n){},"5e90":function(t,e,n){"use strict";var i=n("58d5"),s=n.n(i);s.a},"5ff8":function(t,e,n){"use strict";var i=n("aea6"),s=n.n(i);s.a},"615d":function(t,e,n){},"62f3":function(t,e,n){},"65ca":function(t,e,n){"use strict";var i=n("edfc"),s=n.n(i);s.a},"6f3c":function(t,e,n){},"7c23":function(t,e,n){"use strict";var i=n("6f3c"),s=n.n(i);s.a},"8bc4":function(t,e,n){},a3bb:function(t,e,n){"use strict";var i=n("bfc3"),s=n.n(i);s.a},aea6:function(t,e,n){},b0be:function(t,e,n){"use strict";var i=n("62f3"),s=n.n(i);s.a},b485:function(t,e,n){"use strict";var i=n("615d"),s=n.n(i);s.a},b65b:function(t,e,n){},bfc3:function(t,e,n){},c21b:function(t,e,n){},ca47:function(t,e,n){},cbd0:function(t,e,n){"use strict";var i=n("e0cc"),s=n.n(i);s.a},e0cc:function(t,e,n){},edfc:function(t,e,n){},f49e:function(t,e,n){},fe21:function(t,e,n){"use strict";var i=n("ca47"),s=n.n(i);s.a}});
//# sourceMappingURL=app.f3edd516.js.map