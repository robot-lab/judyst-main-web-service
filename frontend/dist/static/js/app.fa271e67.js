(function(t){function e(e){for(var n,o,r=e[0],c=e[1],u=e[2],d=0,m=[];d<r.length;d++)o=r[d],s[o]&&m.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("c21b"),s=i.n(n);s.a},"0c78":function(t,e,i){"use strict";var n=i("8bc4"),s=i.n(n);s.a},"10aa":function(t,e,i){},"16e0":function(t,e,i){},"190d":function(t,e,i){},2447:function(t,e,i){"use strict";var n=i("59fb"),s=i.n(n);s.a},"2b44":function(t,e,i){},3382:function(t,e,i){"use strict";var n=i("67f6"),s=i.n(n);s.a},"366a":function(t,e,i){"use strict";var n=i("10aa"),s=i.n(n);s.a},"3ec6":function(t,e,i){"use strict";var n=i("441b"),s=i.n(n);s.a},"43b6":function(t,e,i){"use strict";var n=i("a07b"),s=i.n(n);s.a},"441b":function(t,e,i){},"56c5":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("5ee5"),s=i.n(n),a=i("8c4f"),o=i("9f7b"),r=(i("f9e3"),i("2dd8"),i("bc3a")),c=i.n(r),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Navbar"),i("Workspace"),i("Footer")],1)},l=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container "},[i("b-container",[i("p",[t._v(t._s(t.description))])])],1)},m=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"link-search-main"},[i("SearchBlock",{staticClass:"search-block",attrs:{Request:t.SearchRequest,isNeedSearch:t.isNeedSearch},on:{SearchResultsReceived:function(e){t.SetSearchResult(e)}}}),null!=t.SearchResult?i("SearchResultsBlock",{attrs:{SearchResults:t.SearchResult}}):t._e()],1)},p=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-row",[i("div",{staticClass:"col-12"},[i("div",{attrs:{id:"custom-search-input"}},[t.isLoading?i("p",[t._v(" Ведется поиск...")]):t._e(),i("div",{staticClass:"input-group"},[i("input",{staticClass:"search-query form-control",attrs:{type:"text",id:"input-search",placeholder:"Поиск"},domProps:{value:t.SearchRequest},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.SearchButtonClick()}}}),i("span",{staticClass:"input-group-btn"},[i("button",{attrs:{type:"button"}},[i("span",{staticClass:"fa fa-search",on:{click:function(e){t.SearchButtonClick()}}})])])]),i("favorite-manager",{attrs:{Request:t.SearchRequest,Target:"request"}})],1)])])],1)},v=[];i("ac6a"),i("28a5");function _(t){return t.map(function(t){return t.trim()}).filter(function(t){if(""!==t)return t})}function g(t){return t.filter(function(t,e,i){return i.indexOf(t)===e})}var b={trimFromSpaces:_,distinctArr:g},S={ElemsDelimiter:",",CitationPartsDelimiter:"->"},C={any_front:"*",any_back:-1};function k(t){var e=t.split(S.CitationPartsDelimiter);if(e=b.trimFromSpaces(e),e.length<2)return null;var i=e[0].split(S.ElemsDelimiter);i=b.trimFromSpaces(i),i=b.distinctArr(i);var n=e[1].split(S.ElemsDelimiter),s=[];if(n=b.trimFromSpaces(n),n=b.distinctArr(n),-1!==i.indexOf(C.any_front))if(-1!==n.indexOf(C.any_front))s.push({doc_id_from:C.any_back,doc_id_to:C.any_back});else for(var a=0;a<n.length;a++)s.push({doc_id_from:C.any_back,doc_id_to:n[a]});else if(-1!==n.indexOf(C.any_front))for(a=0;a<i.length;a++)s.push({doc_id_from:i[a],doc_id_to:C.any_back});else for(a=0;a<i.length;a++)for(var o=0;o<n.length;o++)s.push({doc_id_from:i[a],doc_id_to:n[o]});return s}var R={CitationFastSearch:k},E={sampleKeyword:"sampleKeyword"};function y(){throw"Not implemented!"}function L(t){var e=E.values;for(var i in e)if(-1!==t.indexOf(i))return y(t);if(t.indexOf(S.CitationPartsDelimiter))return R.CitationFastSearch(t);throw"Not implemented!"}var T=L;function q(t,e,i,n){var s=0,a=0,o=0,r=0,c=[],u=function(t,i){var n={doc_id_from:i.doc_id_from,doc_id_to:i.doc_id_to,range:t},s=JSON.stringify(n),a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("content-type","application/json"),a.send(s),a.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){for(var t=a.responseText,e=JSON.parse(t),i=[],n=0;n<e.length;n++)i.push(e[n]);c=c.concat(i),r++}else alert("ошибка: "+(this.status?this.statusText:"запрос не удался"))}};while(a<i.length&&s<t[0]){if(!(s+i[a].Size<=t[0])){var l=t[0]-s;if(s+i[a].Size<=t[1]){var d=[l,i[a].Size];s+=i[a].Size}else{var m=t[1]-s;d=[l,m],s+=t[1]-t[0]}o++;var f=a;setTimeout(function(){u(d,i[f])},0),a++;break}s+=i[a].Size,a++}while(a<i.length&&s<t[1])s+i[a].Size<=t[1]?(d=[0,i[a].Size],s+=i[a].Size):(d=[0,t[1]-s],s=t[1]),f=a,setTimeout(function(){u(d,i[f])},0),o++,a++;var p=function t(){o<=r?n(c):setTimeout(t,500)};setTimeout(p,0)}function O(t,e,i){var n=T(t);if(null!=n){for(var s=[],a=0,o=0;o<n.length;o++){var r=n[o],c=JSON.stringify(r),u=new XMLHttpRequest;u.open("POST",e,!0),u.setRequestHeader("content-type","application/json"),u.send(c),u.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);s.push({Size:e.size,doc_id_from:r.doc_id_from,doc_id_to:r.doc_id_to}),a+=1}else a+=1}}var l=function t(){a===n.length?i(s):setTimeout(t,500)};setTimeout(l,500)}else i(null)}function D(t,e,i){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("content-type","application/json");var s=JSON.stringify({doc_id:t});n.send(s),n.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=this.responseText+"",e=JSON.parse(t);i(e)}else i(null,this.status)}}var w={RequestLinks:q,RequestSearch:O,RequestDocument:D},A="/api",P={Search:"".concat(A,"/search/number_of_links"),Document:"".concat(A,"/search/document"),Links:"".concat(A,"/search/get"),Auth_signin:"".concat(A,"/user/login"),Auth_signup:"".concat(A,"/user/register"),Auth_signout:"".concat(A,"/user/logout")},U="user",x={Search:"/search",SignUp:"/".concat(U,"/signup"),UserFavorites:"/favorites",Document:"/document",AddFavorite:"/favorites/new",PageNotFound:"/404",HomePage:"/"},F={doc_id_delimiter:["/","-_-"]};function I(t){var e,i,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)i=t.charCodeAt(e),n=(n<<5)-n+i,n|=0;return n}function N(t){return I("".concat(t.doc_id_from).concat(t.doc_id_to))}function $(t){return t.split(F.doc_id_delimiter[0]).join(F.doc_id_delimiter[1])}function j(t){return t.split(F.doc_id_delimiter[1]).join(F.doc_id_delimiter[0])}function M(t){return t=t.split(F.doc_id_delimiter[0]).join(F.doc_id_delimiter[1]),t}function V(t){return t=t.split(F.doc_id_delimiter[1]).join(F.doc_id_delimiter[0]),t}var z={Hash:I,StashDocId:$,DeStashDocId:j,HashLink:N,StashRequest:M,DeStashRequest:V},B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"col-12"},[i("i",{class:t.state,on:{click:function(e){t.starOnClick()}}})]),i("b-modal",{attrs:{id:"SaveModal","hide-footer":"",title:"Запомнить запрос"},model:{value:t.isSaveModalVisible,callback:function(e){t.isSaveModalVisible=e},expression:"isSaveModalVisible"}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("label",[t._v(t._s("document"==t.Target?"Номер документа":"Запрос")+": "+t._s(t.Request))]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only"},[t._v("Название")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Название",required:""},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only"},[t._v("Комментарий")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Комментарий"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("b-btn",{staticClass:"submit-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Сохранить")])],1)])])],1)},H=[],G="AUTH_REQUEST",J="AUTH_SUCCESS",W="AUTH_ERROR",Q="AUTH_LOGOUT",K="USER_REQUEST",X="USER_SUCCESS",Y="USER_ERROR",Z="REGISTER_REQUEST",tt="REGISTER_SUCCESS",et="REGISTER_ERROR",it="NEW_LINKS_PACK",nt="NEW_SEARCH_RESULT",st="NEW_FAVORITE_REQ",at="EDIT_FAVORITE_REQ",ot="DELETE_FAVORITE_REQ",rt="NEW_FAVORITE_DOC",ct="EDIT_FAVORITE_DOC",ut="DELETE_FAVORITE_DOC",lt="UPDATE_FROM_STORAGE",dt="SET_ON_FAVORITE_UPDATE",mt="DELETE_ON_FAVORITE_UPDATE",ft="UPDATE_UPDATABLE",pt={AUTH_REQUEST:G,AUTH_ERROR:W,AUTH_SUCCESS:J,AUTH_LOGOUT:Q,REGISTER_REQUEST:Z,REGISTER_ERROR:et,REGISTER_SUCCESS:tt,USER_REQUEST:K,USER_ERROR:Y,USER_SUCCESS:X,NEW_LINKS_PACK:it,NEW_SEARCH_RESULT:nt,NEW_FAVORITE_DOC:rt,NEW_FAVORITE_REQ:st,EDIT_FAVORITE_DOC:ct,EDIT_FAVORITE_REQ:at,DELETE_FAVORITE_DOC:ut,DELETE_FAVORITE_REQ:ot,UPDATE_FROM_STORAGE:lt,SET_ON_FAVORITE_UPDATE:dt,DELETE_ON_FAVORITE_UPDATE:mt,UPDATE_UPDATABLE:ft},ht={name:"SearchRequestManager",props:{Request:String,Target:String,Title:String},data:function(){return{caption:"",description:"",isSaveModalVisible:!1,submit:null,salt:""}},computed:{isFavorite:function(){if(""!=this.salt)return"";var t=this.Request.trim(),e="document"==this.Target&&null!==this.$store.getters.getFavoriteDocument(t),i="request"==this.Target&&null!==this.$store.getters.getFavoriteRequest(t),n=e||i;return n},state:function(){return this.isFavorite?"fas fa-star":"far fa-star"},starOnClick:function(){return this.isFavorite?function(){var t="document"==this.Target?pt.DELETE_FAVORITE_DOC:pt.DELETE_FAVORITE_REQ,e=this.Request.trim();this.Update(),this.$store.commit(t,{req:e}),this.$store.dispatch(pt.UPDATE_UPDATABLE)}:function(){this.isSaveModalVisible=!0}}},methods:{Update:function(){this.salt="reinvoking",this.salt=""},AddReqToFavorites:function(){var t=this.Request.trim();if(""!=t){var e={caption:this.caption,description:this.description,body:t};this.$store.commit(pt.NEW_FAVORITE_REQ,{req:t,model:e}),this.isSaveModalVisible=!1,this.salt="reinvoking",this.salt="",this.$store.dispatch(pt.UPDATE_UPDATABLE)}},AddDocToFavorites:function(){var t=this.Request.trim();if(""!=t){var e={caption:this.caption,description:this.description,title:this.title,body:t};this.$store.commit(pt.NEW_FAVORITE_DOC,{req:t,model:e}),this.isSaveModalVisible=!1,this.Update(),this.$store.dispatch(pt.UPDATE_UPDATABLE)}}},created:function(){"document"==this.Target?this.submit=this.AddDocToFavorites:this.submit=this.AddReqToFavorites}},vt=ht,_t=(i("e54f"),i("2877")),gt=Object(_t["a"])(vt,B,H,!1,null,"94332a26",null);gt.options.__file="FavoriteManager.vue";var bt=gt.exports,St={name:"SearchBlock",components:{FavoriteManager:bt},props:{Request:String,isNeedSearch:Boolean},computed:{},data:function(){return{url:P.Search,SearchRequest:"",isLoading:!1,tmp:"none"}},methods:{SearchButtonClick:function(){var t=document.getElementById("input-search").value;t=z.StashRequest(t),this.$router.push("".concat(x.Search,"/").concat(t))},Update:function(){if(null!=this.Request&&this.isNeedSearch){this.SearchRequest=z.DeStashRequest(this.Request);var t=this;this.isLoading=!0,w.RequestSearch(this.SearchRequest,this.url,function(e){t.$emit("SearchResultsReceived",e),t.isLoading=!1})}}},watch:{Request:function(){this.Update()}},created:function(){this.Update()}},Ct=St,kt=(i("7905"),Object(_t["a"])(Ct,h,v,!1,null,"7d6213db",null));kt.options.__file="SearchBlock.vue";var Rt=kt.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[t.LinksCount>0?i("div",{staticClass:"search-result-block"},[i("span",{staticClass:"page-list"},[i("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?i("div",{staticClass:"links-block"},[i("LinkBoxView",{attrs:{Links:t.Links,DefaultCollapse:!1}}),i("span",{staticClass:"page-list"},[i("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):i("p",[t._v("Загружается...")])]):i("div",{staticClass:"container"},[t._v("\n            Поиск не дал результатов. \n    ")])])},yt=[],Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("LinkView",{attrs:{CleanLink:t.CleanLink}})},Tt=[],qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"link-container container card"},[i("b-card-header",{staticClass:"link-header"},[i("span",[i("p",[t._v("Цитирующий документ: "),i("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_from))])],1)]),i("span",[i("p",[t._v("Цитируемый документ: "),i("router-link",{staticClass:"link",attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_to)+"/0"}},[t._v(t._s(t.CleanLink.doc_id_to))])],1)])]),i("b-card-body",[i("p",[i("b",[t._v("Заголовок цитируемого документа:")]),t._v(" "+t._s(t.CleanLink.to_doc_title)+"\n                ")]),i("span",[i("p",[t._v("Количество упоминаний: "+t._s(t.CleanLink.citations_number)+" ")])]),i("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.TitleId,expression:"TitleId"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"context-toggler",attrs:{title:"Нажмите, чтобы просмотреть контекст цитаты"}},[t._v("\n                    Контекст цитирования\n                ")]),i("b-collapse",{attrs:{id:t.TitleId}},t._l(t.CitationsRange,function(e){return i("b-card-group",{key:e},[i("b-card",[i("b-card-header"),i("b-card-body",[i("p",[t._v(t._s(t.CleanLink.contexts[e].before)+" "),i("b",[t._v(t._s(t.CleanLink.contexts[e].citation))]),t._v(" "+t._s(t.CleanLink.contexts[e].after)+" ")])]),i("b-card-footer",[i("router-link",{attrs:{to:"/document/"+t.utils.StashDocId(t.CleanLink.doc_id_from)+"/"+t.utils.HashLink(t.CleanLink)}},[t._v("\n                            Перейти к цитате в тексте\n                        ")])],1)],1)],1)}))],1)],1)},Ot=[],Dt={name:"LinkView",props:{CleanLink:Object,DefaultCollapse:Boolean},data:function(){return{utils:z}},computed:{CitationsRange:function(){for(var t=[],e=0;e<this.CleanLink.citations_number;e++)t.push(e);return t},TitleId:function(){return"#collapse_"+this.CleanLink.doc_id_from+"-"+this.CleanLink.doc_id_to}},methods:{GetPositionLink:function(t,e){return"#"+t+"__"+e}}},wt=Dt,At=(i("0c78"),Object(_t["a"])(wt,qt,Ot,!1,null,null,null));At.options.__file="LinkView.vue";var Pt=At.exports,Ut={name:"SearchResult",components:{LinkView:Pt},props:{CleanLink:Object},computed:{},methods:{}},xt=Ut,Ft=(i("7c23"),Object(_t["a"])(xt,Lt,Tt,!1,null,"d66bb60e",null));Ft.options.__file="SearchResult.vue";var It=Ft.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-card",[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"search-request-statistics",expression:"'search-request-statistics'"}],staticClass:"bg-info text-white"},[t._v("\n            Статистический анализ запроса\n        ")]),i("b-collapse",{attrs:{id:"search-request-statistics"}},[i("b-card-body",[i("p",[t._v("Найдено: "+t._s(t.LinksCount))])])],1)],1)},$t=[],jt=(i("c5f6"),{name:"SearchStatistics",data:function(){return{tmp:"none"}},props:{SearchResults:Array,Count:Number},computed:{LinksCount:function(){return void 0==this.Count&&this.ComputeCount(),this.Count}},methods:{ComputeCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;this.Count=t}}}),Mt=jt,Vt=(i("b0be"),Object(_t["a"])(Mt,Nt,$t,!1,null,"40ec3108",null));Vt.options.__file="SearchStatistics.vue";var zt=Vt.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-list"},[i("span",[i("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.FirstPages)}}},[t._v("\n         <<<\n    ")]),t._l(t.PrevioslyPages,function(e){return i("a",{key:e[0],staticClass:"page-link",on:{click:function(i){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),i("p",{staticClass:"page-link current-link"},[t._v("\n        |"+t._s(t.Current[0])+" - "+t._s(t.Current[1])+"|\n    ")]),t._l(t.NextPages,function(e){return i("a",{key:e[0],staticClass:"page-link",on:{click:function(i){t.$emit("PageChanged",e)}}},[t._v("\n        "+t._s(e[0])+" - "+t._s(e[1])+"\n    ")])}),i("a",{staticClass:"page-link",on:{click:function(e){t.$emit("PageChanged",t.LastPages)}}},[t._v("\n        >>>\n    ")])],2)])},Ht=[],Gt={name:"PageList",data:function(){return{tmp:"none"}},props:{Count:Number,Step:Number,Current:Array},computed:{PrevioslyPages:function(){var t=[],e=this.Current;if(e[0]>2){var i=e[0]-this.Step-1;i<1&&(i=1),t.push([i,e[0]-1])}return t},NextPages:function(){for(var t=[],e=this.Current,i=0;i<2;i++){var n=e;if(e=[n[1]+1,n[1]+this.Step],e[0]>this.Count)break;e[1]>this.Count&&(e[1],this.Count),t.push(e)}return t},FirstPages:function(){var t=[1,this.Step];return t[1]>this.Count&&(t[1]=this.Count),t},LastPages:function(){var t=[this.Count-this.Step+1,this.Count];return t[0]<1&&(t[0]=1),t}}},Jt=Gt,Wt=(i("59be"),Object(_t["a"])(Jt,Bt,Ht,!1,null,"cd6f3780",null));Wt.options.__file="PageList.vue";var Qt=Wt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"links-block"},t._l(t.Links,function(e,n){return i("div",{key:n},[i("LinkView",{attrs:{CleanLink:e,CollapseDefault:t.CollapseDefault}})],1)}))},Xt=[],Yt={name:"LinksBoxView",components:{LinkView:Pt},props:{Links:Array,CollapseDefault:Boolean}},Zt=Yt,te=(i("8f56"),Object(_t["a"])(Zt,Kt,Xt,!1,null,"61117898",null));te.options.__file="LinksBoxView.vue";var ee=te.exports,ie={name:"SearchResultBlock",props:{SearchResults:Array},data:function(){return{Step:10,CurrentRange:[1,20],url:P.Links,tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t}},components:{SearchResult:It,PageList:Qt,LinkBoxView:ee,SearchStatistics:zt},methods:{getLinks:function(t){this.CurrentRange=t;var e=JSON.stringify(this.SearchResults)+JSON.stringify(t),i=this.$store.getters.getStoredLinks(e);if(null!=i)return this.isLoaded=!0,void(this.Links=i);this.isLoaded=!1;var n=this;w.RequestLinks(t,this.url,this.SearchResults,function(t){n.isLoaded=!0,n.Links=t,n.$store.commit(pt.NEW_LINKS_PACK,{request:e,result:t})})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},ne=ie,se=(i("58b5"),Object(_t["a"])(ne,Et,yt,!1,null,"605c9da7",null));se.options.__file="SearchResultsBlock.vue";var ae=se.exports,oe={name:"Search",data:function(){return{SearchResult:null,tmp:"none",SearchRequest:null,isNeedSearch:!0}},computed:{StoredResult:function(){return this.$store.getters.storedResults}},methods:{SetSearchRequest:function(t){t=t.trim(),void 0!=t||null!=t?(null==this.$store.getters.getStoredRes(t)?this.isNeedSearch=!0:(this.isNeedSearch=!1,this.SearchResult=this.$store.getters.getStoredRes(t)),this.SearchRequest=t):this.SearchRequest=""},SetSearchResult:function(t){this.tmp=":)",this.$store.commit(pt.NEW_SEARCH_RESULT,{request:this.SearchRequest,result:t}),this.SearchResult=t}},created:function(){this.SetSearchRequest(this.$route.params.request)},beforeRouteUpdate:function(t,e,i){this.SetSearchRequest(t.params.request),i()},components:{SearchBlock:Rt,SearchResultsBlock:ae}},re=oe,ce=(i("3ec6"),Object(_t["a"])(re,f,p,!1,null,"05296e06",null));ce.options.__file="Search.vue";var ue=ce.exports,le="Tempor ut laborum ex excepteur laborum duis. Incididunt et nisi aliquip deserunt ea Lorem sit officia et consequat dolor ad adipisicing. Sint elit dolore esse consectetur dolore ut ullamco deserunt eiusmod sint. Non ut amet nisi non proident ex consequat commodo irure tempor in sit. Nostrud consectetur do labore eu amet exercitation velit aliqua nulla anim ipsum excepteur. Lorem amet magna adipisicing fugiat quis anim sit ipsum voluptate qui veniam velit in ex. Laboris pariatur commodo eiusmod velit cillum sint veniam amet.",de={name:"HomePage",data:function(){return{description:le}},components:{Search:ue},computed:{token:function(){return this.$store.getters.token}}},me=de,fe=(i("a3bb"),Object(_t["a"])(me,d,m,!1,null,null,null));fe.options.__file="HomePage.vue";var pe=fe.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"wrap",attrs:{fluid:""}},[null!=t.CurrentDocument?i("div",[i("h5",{staticClass:"title-block"},[i("b",[t._v("Заголовок документа:")]),i("p",[t._v(t._s(t.CurrentDocument.title))])]),i("h4",{staticClass:"id-block"},[i("p",[i("b",[t._v("Номер документа:")]),t._v(" "+t._s(t.CurrentDocument.doc_id))])]),i("h4",{staticClass:"date-block"},[i("p",[i("b",[t._v("Дата публикации:")]),t._v(" "+t._s(t.CurrentDocument.release_date)+" ")])]),i("favorite-manager",{attrs:{Target:"document",Title:t.CurrentDocument.title,Request:t.CurrentDocument.doc_id}}),i("b-card",[null!=t.LinksTo?i("b-container",[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"link_to_block",expression:"'link_to_block'"}]},[t._v("Цитирование этого документа")]),i("b-collapse",{attrs:{id:"link_to_block"}},[i("b-card-body",[i("multipage-links-view",{attrs:{SearchResults:t.LinksTo,Step:5,DefaultCollapse:!0}})],1)],1)],1):i("p",[t._v(" Выполняется предобработка...")])],1),i("div",{staticClass:"text-block"},[null!==t.ProcessedText?i("div",[i("v-runtime-template",{attrs:{template:t.ProcessedText}})],1):i("p",[t._v("\n                Выполняется предобработка...\n            ")])])],1):i("div",[i("p",[t._v("Документ загружается...")])])])},ve=[],_e=(i("55dd"),i("dd1e")),ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[t.LinksCount>0?i("div",{staticClass:"search-result-block"},[i("span",{staticClass:"page-list"},[i("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?i("div",{staticClass:"links-block"},[i("b-card-group",[i("LinkBoxView",{attrs:{Links:t.Links,CollapseDefault:t.CollapseDefault}})],1),i("span",{staticClass:"page-list"},[i("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1)],1):i("p",[t._v("Загружается...")])]):i("b-container",[t._v("\n            Не обнаружено.\n    ")])],1)},be=[],Se={name:"MultipageLinksView",props:{SearchResults:Array,Step:Number,CollapseDefault:Boolean},data:function(){return{CurrentRange:[1,this.Step],tmp:null,Links:[],isLoaded:!1}},computed:{LinksCount:function(){for(var t=0,e=0;e<this.SearchResults.length;e++)t+=this.SearchResults[e].Size;return t},StoredLinks:function(){return this.$store.StoredLinks}},components:{PageList:Qt,LinkBoxView:ee},methods:{getLinks:function(t){this.CurrentRange=t;var e=JSON.stringify(this.SearchResults)+JSON.stringify(t),i=this.$store.getters.getStoredLinks(e);if(null!=i)return this.isLoaded=!0,void(this.Links=i);this.isLoaded=!1;var n=this;w.RequestLinks(t,P.Links,this.SearchResults,function(t){n.isLoaded=!0,n.Links=t,n.$store.commit(pt.NEW_LINKS_PACK,{request:e,result:t})})},Initialize:function(){this.CurrentRange=[1,this.Step],this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},watch:{SearchResults:function(){this.Initialize()}},created:function(){this.Initialize()}},Ce=Se,ke=(i("e968"),Object(_t["a"])(Ce,ge,be,!1,null,"c8b70234",null));ke.options.__file="MultipageLinksView.vue";var Re=ke.exports,Ee={name:"DocumentView",components:{multipageLinksView:Re,VRuntimeTemplate:_e["a"],FavoriteManager:bt},data:function(){return{Step:5,LinksTo:null,LinksPackFrom:null,CurrentDocument:null,tmp:"none"}},computed:{SortedAloneLinks:function(){if(null===this.LinksPackFrom||null===this.LinksTo)return null;for(var t=[],e=0;e<this.LinksPackFrom.length;e++){for(var i=this.LinksPackFrom[e],n=0;n<i.positions_list.length;n++)var s={doc_id_from:i.doc_id_from,doc_id_to:i.doc_id_to,to_doc_title:i.to_doc_title,position:i.positions_list[n]};t.push(s)}return t.sort(function(t,e){return t.position.link_start-e.position.link_end}),t},ProcessedText:function(){if(null===this.CurrentDocument||null===this.SortedAloneLinks)return null;for(var t=this.CurrentDocument.text,e="<div><template>",i=0,n=0;n<this.SortedAloneLinks.length;n++){var s=this.SortedAloneLinks[n];e+=t.slice(i,s.position.link_start);var a=t.slice(s.position.link_start,s.position.link_end+1);e+='<b-btn size="sm" variant="link"  @click="OpenLink(\'/document/'.concat(z.StashDocId(s.doc_id_to),"/0')\">").concat(a,"</b-btn>"),i=s.position.link_end}return e+=t.slice(i,t.length),e+="</template></div>",e}},methods:{OpenLink:function(t){this.$router.push(t),this.tmp=t},Init:function(t){this.LinksTo=null,this.LinksPackFrom=null,this.CurrentDocument=null;var e=z.DeStashDocId(t.params.doc_id),i=this;w.RequestDocument(e,P.Document,function(t,e){null===t&&alert("Error while getting document. Error code: "+e),i.CurrentDocument=t}),w.RequestSearch("*->".concat(e),P.Search,function(t){i.LinksTo=t}),w.RequestSearch("".concat(e,"->*"),P.Search,function(t){w.RequestLinks([1,t.Size],P.Links,t,function(t){i.LinksPackFrom=t})})}},created:function(){this.Init(this.$route)},beforeRouteUpdate:function(t,e,i){this.Init(t),i()}},ye=Ee,Le=(i("43b6"),Object(_t["a"])(ye,he,ve,!1,null,"a711c6f0",null));Le.options.__file="DocumentView.vue";var Te=Le.exports,qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[i("div",{staticClass:"logo"},[t._v("Sign Up")]),i("div",{staticClass:"login-form-1"},[i("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[i("div",{staticClass:"login-form-main-message"}),i("div",{staticClass:"main-login-form"},[""!=t.errMessage?i("div",[i("p",{staticClass:"danger"},[t._v(t._s(t.errMessage))])]):t._e(),i("div",{staticClass:"login-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("email")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("first name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"first name",required:""},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("last name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"last name",required:""},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}}),i("div",[i("b-btn",{staticClass:"register-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Register")])],1)])])])])])])},Oe=[];function De(t){return""!=t.password&&t.email.indexOf("@")>-1&&""!=t.firstName&&""!=t.LastName}function we(t){return 400==t.code&&"user already exist"==t.message}var Ae={CheckRegModel:De,isUserExistError:we},Pe={name:"SignInForm",data:function(){return{email:"Rexarrior@yandex.ru",password:"sTame_342",first_name:"Ksandr",last_name:"renderon",organization:"none",errMessage:""}},methods:{register:function(){var t=this,e={email:this.email,password:this.password,first_name:this.first_name,last_name:this.last_name,organization:this.organization};Ae.CheckRegModel(e)&&this.$store.dispatch(Z,e).then(function(){t.$router.push("/")},function(e){Ae.isUserExistError(e)&&(t.errMessage=e)})}}},Ue=Pe,xe=(i("b1a1"),Object(_t["a"])(Ue,qe,Oe,!1,null,"3ac1c57c",null));xe.options.__file="SignUpForm.vue";var Fe=xe.exports,Ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-card",{attrs:{"md-8":""}},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"favorite-requests-collapse"+(t.isModal?"-modal":""),expression:"`favorite-requests-collapse${isModal?'-modal':''}`"}]},[t._v("\n           Избранные запросы\n        ")]),i("b-collapse",{attrs:{id:"favorite-requests-collapse"+(t.isModal?"-modal":""),visible:!t.isModal}},[i("b-card-body",{staticClass:"content"},[t.isRequestsNotEmpty?i("b-container",t._l(t.Requests,function(e,n){return i("b-card",{key:n,staticClass:" text-center content-card"},[i("h5",[t._v(t._s(e.caption))]),i("h6",[i("i",[t._v(t._s(e.body))])]),""!=e.description?i("span",[i("p",[t._v(" "+t._s(e.description))])]):t._e(),i("b-card-footer",[t.isModal?i("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetReqPath(e.body)}},[t._v("Invoke")]):i("b-row",[i("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetReqPath(e.body)}},[t._v("Применить")]),i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"outline-success"},on:{click:function(i){t.Edit("request",e.body,e)}}},[t._v("Редактировать")]),i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"danger"},on:{click:function(i){t.DelReq(e.body)}}},[t._v("Удалить")])],1)],1)],1)})):i("div",[t._v("\n                    Нет избранных запросов. \n                ")])],1)],1),t.isModal?t._e():i("b-card-footer",[i("b-btn",{attrs:{variant:"success",size:"sm",to:t.newRequestUrl}},[t._v("Новый запрос ")])],1)],1),i("b-card",{attrs:{"md-8":""}},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"favorite-documents-collapse"+(t.isModal?"-modal":""),expression:"`favorite-documents-collapse${isModal?'-modal':''}`"}]},[t._v("\n            Избранные документы\n        ")]),i("b-collapse",{attrs:{id:"favorite-documents-collapse"+(t.isModal?"-modal":""),visible:!t.isModal}},[i("b-card-body",{staticClass:"content"},[t.isDocumentsNotEmpty?i("b-container",t._l(t.Documents,function(e,n){return i("b-card",{key:n,staticClass:" text-center content-card"},[i("h5",[t._v(t._s(e.caption))]),i("h6",[i("i",[t._v(t._s(e.body))])]),""!=e.description?i("span",[i("p",[t._v(" "+t._s(e.description))])]):t._e(),i("b-card-footer",[t.isModal?t._e():i("b-row",[i("b-btn",{staticClass:"control first-control",attrs:{size:"sm",variant:"link",to:t.GetDocPath(e.body)}},[t._v("Документ")]),i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"outline-success"},on:{click:function(i){t.Edit("document",e.body,e)}}},[t._v("Редактировать")]),i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"danger"},on:{click:function(i){t.DelDoc(e.body)}}},[t._v("Удалить")])],1),i("hr"),i("b-row",[i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"link",to:t.GetReqLinks(e.body,"from")}},[t._v("Ссылки из")]),i("b-btn",{staticClass:"control",attrs:{size:"sm",variant:"link",to:t.GetReqLinks(e.body,"to")}},[t._v("Ссылки в")])],1)],1)],1)})):i("div",[t._v("\n                    Нет избранных документов\n                ")])],1)],1)],1)],1)},Ne=[],$e=(i("456d"),{name:"UserFavoritesView",props:{isModal:Boolean},data:function(){return{newRequestUrl:"".concat(x.AddFavorite,"/request"),newDocumentUrl:"".concat(x.AddFavorite,"/document"),fullView:x.UserFavorites,Requests:{},Documents:{},isRequestsNotEmpty:!0,isDocumentsNotEmpty:null}},computed:{},methods:{Update:function(){this.Requests=null,this.Documents=null,this.Requests=this.$store.getters.favoriteRequests,this.isRequestsNotEmpty=Object.keys(this.Requests).length>0,this.Documents=this.$store.getters.favoriteDocuments,this.isDocumentsNotEmpty=Object.keys(this.Documents).length>0},GetReqPath:function(t){var e=z.StashRequest(t);return"".concat(x.Search,"/").concat(e)},GetReqLinks:function(t,e){var i="";return i="from"==e?"".concat(t).concat(S.CitationPartsDelimiter).concat(C.any_front):"".concat(C.any_front).concat(S.CitationPartsDelimiter).concat(t),"".concat(x.Search,"/").concat(z.StashRequest(i))},GetDocPath:function(t){var e=z.StashDocId(t);return"document/".concat(e,"/0")},DelReq:function(t){this.$store.commit(pt.DELETE_FAVORITE_REQ,{req:t}),this.Update()},DelDoc:function(t){this.$store.commit(pt.DELETE_FAVORITE_DOC,{req:t}),this.Update()},Edit:function(t,e){var i="";i="request"==t?z.StashRequest(e):z.StashDocId(e),this.$router.push("".concat(x.AddFavorite,"/").concat(t,"/").concat(i))},GoToNew:function(t){this.$emit("finish"),"request"==t?this.$router.push(this.newRequestUrl):this.$router.push(this.newDocumentUrl)}},created:function(){var t=this;this.isModal&&this.$store.commit(pt.SET_ON_FAVORITE_UPDATE,{Update:function(){return t.Update()}}),this.Update()},destroyed:function(){this.isModal&&this.$store.commit(pt.DELETE_ON_FAVORITE_UPDATE)}}),je=$e,Me=(i("aef7"),Object(_t["a"])(je,Ie,Ne,!1,null,"4fcc3c35",null));Me.options.__file="UserFavoriteView.vue";var Ve=Me.exports,ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[i("div",{staticClass:"login-form-1"},[i("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",{staticClass:"login-form-main-message"}),i("div",{staticClass:"main-login-form"},[i("div",{staticClass:"login-group"},[i("div",{staticClass:"form-group"},["request"==t.target?i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Запрос")]):i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Номер документа")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.bodyPlaceholder,required:""},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Название")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Название",required:""},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("Комментарий")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Комментарий"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("div",[i("b-btn",{staticClass:"submit-btn",attrs:{type:"submit",size:"sm",variant:"outline-success"}},[t._v("Сохранить")])],1),"edit"==t.mode?i("div",[i("b-btn",{staticClass:"submit-btn",attrs:{size:"sm",variant:"outline-success"},on:{click:function(e){t.abort()}}},[t._v("Отменить")])],1):t._e()])])])])])])},Be=[],He=["request","document"],Ge=["new","edit"],Je={name:"AddFavoriteForm",props:{init_target:String,mode:String,model:String,isModal:Boolean},data:function(){return{body:"",oldBody:"",caption:"",description:"",target:"",Modal:!1}},computed:{bodyPlaceholder:function(){return"request"==this.target?"Поисковый запрос":"Номер документа"}},methods:{abort:function(){this.$emit("Abort"),this.$emit("Finish"),this.$router.push(x.UserFavorites)},submit:function(){var t={caption:this.caption,description:this.description,body:this.body},e="",i="";"request"==this.target?"edit"==this.mode?(e=pt.EDIT_FAVORITE_REQ,i=this.oldBody):(e=pt.NEW_FAVORITE_REQ,i=this.body):"edit"==this.mode?(e=pt.EDIT_FAVORITE_DOC,i=this.oldBody):(e=pt.NEW_FAVORITE_DOC,i=this.body),this.$store.commit(e,{req:i,model:t}),this.oldBody="",this.body="",this.caption="",this.description="",this.$emit("Finish"),this.$store.dispatch(pt.UPDATE_UPDATABLE),this.Modal||this.$router.push(x.UserFavorites)}},created:function(){var t=null;if("route"==this.init_target){if(this.target=this.$route.params.target,"edit"==this.mode){var e=this.$route.params.body;"request"==this.target?(e=z.DeStashRequest(e),t=this.$store.getters.getFavoriteRequest(e)):(e=z.DeStashDocId(e),t=this.$store.getters.getFavoriteDocument(e)),null==t&&this.$router.push(x.PageNotFound)}}else this.target=this.init_target;void 0==this.target||void 0==this.mode||-1!=He.indexOf(this.target)&&-1!=Ge.indexOf(this.mode)||this.$router.push(x.PageNotFound),(this.model||null!=t)&&(null==t&&this.model,this.caption=t.caption,this.description=t.description,this.body=t.body,"edit"==this.mode&&(this.oldBody=this.body)),this.isModal&&(this.Modal=this.isModal)}},We=Je,Qe=(i("a620"),Object(_t["a"])(We,ze,Be,!1,null,"78701eba",null));Qe.options.__file="AddFavoriteForm.vue";var Ke=Qe.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-card",[i("b-card-body",{staticClass:"card-body"},[i("h1",[t._v("This page not found.")]),i("h3",[i("i",[t._v("You can go to")])]),i("ul",[i("li",[i("router-link",{attrs:{to:t.HomePage}},[t._v("Home page")])],1),i("li",[i("router-link",{attrs:{to:t.Search}},[t._v("Search")])],1),i("li",[i("router-link",{attrs:{to:t.Favorites}},[t._v("Favorite requests and documents")])],1)])])],1)],1)},Ye=[],Ze={name:"PageNotFound",data:function(){return{HomePage:x.HomePage,Search:x.Search,Favorites:x.UserFavorites}}},ti=Ze,ei=(i("db02"),Object(_t["a"])(ti,Xe,Ye,!1,null,null,null));ei.options.__file="PageNotFound.vue";var ii=ei.exports,ni=[{path:x.HomePage,component:pe},{name:"document",path:"".concat(x.Document,"/:doc_id/:hash"),component:Te},{path:"".concat(x.Search,"/:request"),component:ue},{path:"/search/",redirect:"/search/ "},{path:x.SignUp,component:Fe},{path:x.UserFavorites,component:Ve},{path:"".concat(x.AddFavorite,"/:target"),component:Ke,props:{init_target:"route",mode:"new"}},{path:"".concat(x.AddFavorite,"/:target/:body"),component:Ke,props:{init_target:"route",mode:"edit"}},{path:x.PageNotFound,component:ii}],si=new a["a"]({routes:ni}),ai={Router:si},oi=i("2f62"),ri=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ci=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"page-footer font-small white"},[i("div",{staticClass:"footer-copyright text-center py-3"},[t._v("© 2018 Copyright:\n        "),i("a",{attrs:{href:"https://github.com/orgs/robot-lab/teams/team-judicial-analysis/members"}},[t._v(" Judyst team")])])])}],ui={name:"Navbar"},li=ui,di=(i("3382"),Object(_t["a"])(li,ri,ci,!1,null,"401daa4c",null));di.options.__file="Footer.vue";var mi=di.exports,fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-navbar",{staticClass:"navbar-main",attrs:{toggleble:"sd",fixed:"top",type:"dark",variant:"dark"}},[i("div",{staticClass:"navbar-header"},[i("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Judyst")])],1),i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{attrs:{to:"/search/"}},[t._v("Search")])],1),i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{attrs:{to:t.favoritesUrl}},[t._v("Favorites")])],1),i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.FavoriteModal",modifiers:{FavoriteModal:!0}}]},[i("i",{staticClass:"far fa-eye"})])],1),i("b-navbar-nav",{staticClass:"ml-auto"}),t.isAuthenticated?i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{on:{click:function(e){t.logout()}}},[t._v("Sign out")])],1):t._e(),t.isAuthenticated?t._e():i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.signInModal",modifiers:{signInModal:!0}}]},[t._v("Sign In")])],1),t.isAuthenticated?t._e():i("b-navbar-nav",{staticClass:"nav-item-wrapper"},[i("b-nav-item",{attrs:{to:t.signUpUrl}},[t._v("Sign Up")])],1),i("b-modal",{ref:"FavoriteModalRef",attrs:{id:"FavoriteModal","hide-footer":"","hide-title":""}},[i("user-favorites-view",{attrs:{isModal:!0}})],1),i("b-modal",{ref:"signInModalRef",attrs:{id:"signInModal","hide-footer":"","hide-title":""}},[i("sign-in-form")],1)],1)},pi=[],hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center ",staticStyle:{padding:"50px 0"}},[i("div",{staticClass:"logo"},[t._v("Sign in")]),i("div",{staticClass:"login-form-1"},[i("form",{staticClass:"text-left",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("div",{staticClass:"login-form-main-message"}),i("div",{staticClass:"main-login-form"},[i("div",{staticClass:"login-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_email"}},[t._v("email")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"lg_password"}},[t._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._m(0)]),i("div",{staticClass:"etc-login-form"},[i("p",[t._v("new user? "),i("router-link",{attrs:{to:t.signUpUrl}},[t._v("create new account")])],1)])])])])},vi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"login-button",attrs:{type:"submit"}},[i("i",{staticClass:"fa fa-chevron-right"})])}],_i={name:"SignInForm",data:function(){return{email:"",password:"",signUpUrl:x.SignUp}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{login:function(){var t=this,e=this.email,i=this.password;this.$store.dispatch(G,{email:e,password:i}).then(function(){t.$router.push("/")})}}},gi=_i,bi=(i("fc6b"),Object(_t["a"])(gi,hi,vi,!1,null,null,null));bi.options.__file="SignInForm.vue";var Si=bi.exports,Ci={name:"Navbar",data:function(){return{signUpUrl:x.SignUp,favoritesUrl:x.UserFavorites}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){var t=this;this.$store.dispatch(pt.AUTH_LOGOUT).then(function(){t.$router.push("/")})}},watch:{isAuthenticated:function(){this.isAuthenticated&&this.$refs.signInModalRef.hide()}},components:{UserFavoritesView:Ve,SignInForm:Si}},ki=Ci,Ri=(i("366a"),Object(_t["a"])(ki,fi,pi,!1,null,"0ef78a24",null));Ri.options.__file="Navbar.vue";var Ei=Ri.exports,yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"workspace"},[i("router-view")],1)},Li=[],Ti={name:"Workspace",components:{},created:function(){this.$store.dispatch(pt.UPDATE_FROM_STORAGE).then()}},qi=Ti,Oi=(i("2447"),Object(_t["a"])(qi,yi,Li,!1,null,null,null));Oi.options.__file="Workspace.vue";var Di,wi,Ai,Pi,Ui,xi=Oi.exports,Fi=i("a322"),Ii={token:localStorage.getItem("user-token")||"",status:""},Ni={isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status},token:function(t){return t.token}},$i=(Di={},Object(Fi["a"])(Di,G,function(t,e){var i=t.commit;t.dispatch;return new Promise(function(t,n){i(G),c()({url:P.Auth_signin,data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){var n=e.data.token;if(void 0===n)throw"Token is undefined";localStorage.setItem("user-token",n),c.a.defaults.headers.common["Authorization"]="Token "+n,i(J,n),t(e)}).catch(function(t){i(W,t),localStorage.removeItem("user-token"),n(t)})})}),Object(Fi["a"])(Di,Q,function(t){var e=t.commit;t.dispatch;return new Promise(function(t,i){e(Q),c()({url:P.Auth_signout,method:"GET"}),localStorage.removeItem("user-token"),delete c.a.defaults.headers.common["Authorization"],t()})}),Object(Fi["a"])(Di,Z,function(t,e){var i=t.commit;t.dispatch;return new Promise(function(t,n){i(Z),c()({url:P.Auth_signup,data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){var n=e.data.token;localStorage.setItem("user-token",n),c.a.defaults.headers.common["Authorization"]=n,i(tt,n),t(e)}).catch(function(t){i(et,t),localStorage.removeItem("user-token"),n(t)})})}),Di),ji=(wi={},Object(Fi["a"])(wi,G,function(t){t.status="loading"}),Object(Fi["a"])(wi,Q,function(t){t.status="",t.token=void 0}),Object(Fi["a"])(wi,J,function(t,e){t.status="success",t.token=e}),Object(Fi["a"])(wi,W,function(t){t.status="error"}),Object(Fi["a"])(wi,Z,function(t){t.status="loading"}),Object(Fi["a"])(wi,tt,function(t,e){t.status="success",t.token=e}),Object(Fi["a"])(wi,et,function(t){t.status="error"}),wi),Mi={state:Ii,getters:Ni,mutations:ji,actions:$i},Vi={storedSearch:{},storedLinksPack:{}},zi={getStoredRes:function(t){return function(e){return e in t.storedSearch?t.storedSearch[e]:null}},storedResults:function(t){return t.storedSearch},getStoredLinks:function(t){return function(e){return e in t.storedLinksPack?t.storedLinksPack[e]:null}},storedLinks:function(t){return t.storedLinks}},Bi=(Ai={},Object(Fi["a"])(Ai,nt,function(t,e){t.storedSearch[e.request]=e.result}),Object(Fi["a"])(Ai,it,function(t,e){t.storedLinksPack[e.request]=e.result}),Ai),Hi={},Gi={state:Vi,getters:zi,mutations:Bi,actions:Hi},Ji=localStorage,Wi={getItem:function(t,e){return Ji.getItem(e+t)},setItem:function(t,e,i){return Ji.setItem(e+t,i)},removeItem:function(t,e){return Ji.removeItem(e+t)},clear:function(){return Ji.clear()},key:function(t){return Ji.key(t)}},Qi=!0,Ki={favoriteRequests:{},favoriteDocuments:{},UpdatableEntities:null},Xi={favoriteRequests:function(t){return t.favoriteRequests},favoriteDocuments:function(t){return t.favoriteDocuments},getFavoriteRequest:function(t){return function(e){return e in t.favoriteRequests?t.favoriteRequests[e]:null}},getFavoriteDocument:function(t){return function(e){return e in t.favoriteDocuments?t.favoriteDocuments[e]:null}}},Yi=(Pi={},Object(Fi["a"])(Pi,st,function(t,e){t.favoriteRequests[e.req]=e.model,Qi&&Wi.setItem(e.req,"req_",JSON.stringify(e.model))}),Object(Fi["a"])(Pi,at,function(t,e){delete t.favoriteRequests[e.req],t.favoriteRequests[e.model.body]=e.model,Qi&&(Wi.removeItem(e.req,"req_"),Wi.setItem(e.req,"req_",JSON.stringify(e.model)))}),Object(Fi["a"])(Pi,ot,function(t,e){delete t.favoriteRequests[e.req],Qi&&Wi.removeItem(e.req,"req_")}),Object(Fi["a"])(Pi,rt,function(t,e){t.favoriteDocuments[e.req]=e.model,Qi&&Wi.setItem(e.req,"doc_",JSON.stringify(e.model))}),Object(Fi["a"])(Pi,ct,function(t,e){delete t.favoriteDocuments[e.req],t.favoriteDocuments[e.model.body]=e.model,Qi&&(Wi.removeItem(e.req,"doc_"),Wi.setItem(e.req,"doc_",JSON.stringify(e.model)))}),Object(Fi["a"])(Pi,ut,function(t,e){delete t.favoriteDocuments[e.req],Qi&&Wi.removeItem(e.req,"doc_")}),Object(Fi["a"])(Pi,dt,function(t,e){null==t.UpdatableEntities&&(t.UpdatableEntities=[]),t.UpdatableEntities.push(e)}),Object(Fi["a"])(Pi,mt,function(t){t.UpdatableEntities=null}),Pi),Zi=(Ui={},Object(Fi["a"])(Ui,lt,function(t){var e=t.commit,i=t.dispatch;return new Promise(function(t,n){try{Qi=!1;var s=0,a=Ji.key(s);while(null!==a){var o=a.split("_"),r=o[0];if("req"==r||"doc"==r){var c=o.slice(1,o.length).join(""),u="req"==r?st:rt,l=JSON.parse(Ji.getItem(a));e(u,{req:c,model:l})}s+=1,a=Ji.key(s)}t(),Qi=!0,setTimeout(function(){return i(ft)},1e3)}catch(t){Qi=!0,n(t)}})}),Object(Fi["a"])(Ui,ft,function(t){if(null!=t.state.UpdatableEntities)for(var e=0;e<t.state.UpdatableEntities.length;e++)t.state.UpdatableEntities[e].Update()}),Ui),tn={state:Ki,getters:Xi,mutations:Yi,actions:Zi};s.a.use(oi["a"]);var en={name:"app",router:ai.Router,store:new oi["a"].Store({modules:{auth_store:Mi,search_store:Gi,favorite_store:tn}}),components:{Footer:mi,Navbar:Ei,Search:ue,Workspace:xi}},nn=en,sn=(i("034f"),Object(_t["a"])(nn,u,l,!1,null,null,null));sn.options.__file="App.vue";var an=sn.exports;s.a.config.productionTip=!1,s.a.use(a["a"]),s.a.use(o["a"]),new s.a({render:function(t){return t(an)}}).$mount("#app");var on=localStorage.getItem("user-token");on&&(c.a.defaults.headers.common["Authorization"]=on)},"58b5":function(t,e,i){"use strict";var n=i("f901"),s=i.n(n);s.a},"59be":function(t,e,i){"use strict";var n=i("b65b"),s=i.n(n);s.a},"59fb":function(t,e,i){},"62f3":function(t,e,i){},"67f6":function(t,e,i){},"6bc4":function(t,e,i){},"6f3c":function(t,e,i){},7905:function(t,e,i){"use strict";var n=i("16e0"),s=i.n(n);s.a},"7c23":function(t,e,i){"use strict";var n=i("6f3c"),s=i.n(n);s.a},"8a68":function(t,e,i){},"8bc4":function(t,e,i){},"8f56":function(t,e,i){"use strict";var n=i("2b44"),s=i.n(n);s.a},a07b:function(t,e,i){},a3bb:function(t,e,i){"use strict";var n=i("bfc3"),s=i.n(n);s.a},a620:function(t,e,i){"use strict";var n=i("56c5"),s=i.n(n);s.a},aef7:function(t,e,i){"use strict";var n=i("190d"),s=i.n(n);s.a},b0be:function(t,e,i){"use strict";var n=i("62f3"),s=i.n(n);s.a},b1a1:function(t,e,i){"use strict";var n=i("c882"),s=i.n(n);s.a},b65b:function(t,e,i){},bfc3:function(t,e,i){},c21b:function(t,e,i){},c882:function(t,e,i){},ced4:function(t,e,i){},d814:function(t,e,i){},db02:function(t,e,i){"use strict";var n=i("ced4"),s=i.n(n);s.a},e54f:function(t,e,i){"use strict";var n=i("d814"),s=i.n(n);s.a},e968:function(t,e,i){"use strict";var n=i("6bc4"),s=i.n(n);s.a},f901:function(t,e,i){},fc6b:function(t,e,i){"use strict";var n=i("8a68"),s=i.n(n);s.a}});
//# sourceMappingURL=app.fa271e67.js.map