(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],f=0,p=[];f<o.length;f++)i=o[f],s[i]&&p.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"027b":function(t,e,n){"use strict";var a=n("5325"),s=n.n(a);s.a},"034f":function(t,e,n){"use strict";var a=n("c21b"),s=n.n(a);s.a},"0487":function(t,e,n){"use strict";var a=n("f0dc"),s=n.n(a);s.a},"0da0":function(t,e,n){"use strict";var a=n("8eca"),s=n.n(a);s.a},2447:function(t,e,n){"use strict";var a=n("59fb"),s=n.n(a);s.a},"2a99":function(t,e,n){"use strict";var a=n("ef74"),s=n.n(a);s.a},5325:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("Workspace"),n("Footer")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"link-search-main"},[n("SearchBlock",{staticClass:"search-block",on:{SearchResultsReceived:function(e){t.SearchResult=e}}}),null!=t.SearchResult?n("SearchResultsBlock",{attrs:{LinksCount:t.SearchResult.Size,IdFrom:t.SearchResult.IdFrom,IdTo:t.SearchResult.IdTo}}):t._e()],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-edit"},[n("input",{staticClass:"form-control",attrs:{name:"Document-from",type:"text",placeholder:"any",value:"",id:"input-uid-from",required:"",autofocus:""}}),n("input",{staticClass:"form-control",attrs:{name:"Document-to",type:"text",placeholder:"any",value:"",id:"input-uid-to",required:""}}),n("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"button",id:"search-start-button"},on:{click:function(e){t.SearchButtonClick()}}},[t._v("Поиск")])])},u=[],l={name:"SearchBlock",data:function(){return{url:"api/search/number_of_links",searchResultsRaw:'[            {"doc_id_from": "КСРФ/34-П/2018","doc_id_to": "КСРФ/5-П/2007","to_doc_title": "титл","citations_number": 1,"contexts_list": ["Контектс"],"positions_list": [9113]},            {"doc_id_from": "КСРФ/34-П/2018","doc_id_to": "КСРФ/5-П/2007","to_doc_title": "титл","citations_number": 1,"contexts_list": ["Контектс"],"positions_list": [9113]}        ]',tmp:"none"}},methods:{SearchButtonClick:function(){var t=document.getElementById("input-uid-from").value,e=document.getElementById("input-uid-to").value;if("any"!=t&&""!=t||(t=-1),"any"!=e&&""!=e||(e=-1),e!=t){var n={doc_id_from:t,doc_id_to:e},a=JSON.stringify(n),s=new XMLHttpRequest;s.open("POST",this.url,!0),s.setRequestHeader("content-type","application/json"),s.withCredentials=!0;var r=this;s.send(a),s.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var n=s.responseText,a=JSON.parse(n);r.tmp=a;var i={Size:a.size,IdFrom:t,IdTo:e};r.$emit("SearchResultsReceived",i)}else alert("ошибка: "+(this.status?this.statusText:"запрос не удался"))}}else this.$emit("SearchResultsReceived",null)}}},f=l,p=(n("6a8a"),n("2877")),d=Object(p["a"])(f,c,u,!1,null,"22b6249a",null);d.options.__file="SearchBlock.vue";var v=d.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"search-result-block"},[n("span",{staticClass:"page-list"},[n("PageList",{attrs:{Count:t.LinksCount,Step:t.Step,Current:t.CurrentRange},on:{PageChanged:function(e){t.getLinks(e)}}})],1),t.isLoaded?n("div",{staticClass:"links-block"},t._l(t.Links,function(t){return n("div",{key:t.id},[n("SearchResult",{attrs:{CleanLink:t.Link}})],1)})):n("p",[t._v("Загружается...")])])])},h=[],b=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container link-container"},[n("span",[n("p",[t._v("Цитирующий документ: "+t._s(t.CleanLink.doc_id_from)+" ")])]),n("span",[n("p",[t._v("Цитируемый документ: "+t._s(t.CleanLink.doc_id_to)+" ")])]),n("span",[n("p",[t._v("Заголовок цитируемого документа: "+t._s(t.CleanLink.to_doc_title)+" ")])]),n("span",[n("p",[t._v("Количество упоминаний: "+t._s(t.CleanLink.citations_number)+" ")])]),t._l(t.CitationsRange,function(e){return n("div",{key:e},[n("span",[n("p",[t._v("Контекст цитаты: "+t._s(t.CleanLink.contexts[e].before)+" "),n("b",[t._v(t._s(t.CleanLink.contexts[e].citation))]),t._v(" "+t._s(t.CleanLink.contexts[e].after)+" ")])]),n("a",{attrs:{href:"#"}},[t._v("Перейти к цитате в тексте")])])})],2)}),m=[],k={name:"SearchResult",props:{CleanLink:Object},computed:{CitationsRange:function(){for(var t=[],e=0;e<this.CleanLink.citations_number;e++)t.push(e);return t}},methods:{GetPositionLink:function(t,e){return"#"+t+"__"+e}}},g=k,C=(n("027b"),Object(p["a"])(g,b,m,!1,null,"10a89666",null));C.options.__file="SearchResult.vue";var S=C.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-list"},[n("span",t._l(t.PageLinkList,function(e){return n("a",{key:e[0],staticClass:"page-link",on:{click:function(n){t.$emit("PageChanged",e)}}},[t._v("\n        \n        |"+t._s(e[0])+" - "+t._s(e[1])+"|\n    \n    ")])}))])},L=[],x={name:"PageList",props:{Count:Number,Step:Number,Current:Array},computed:{PageLinkList:function(){var t=[],e=1,n=e+this.Step;while(n<this.Count)t.push([e,n]),e=n+1,n+=this.Step+1;return t.push([e,this.Count]),t}}},R=x,O=(n("0487"),Object(p["a"])(R,y,L,!1,null,"790250e6",null));O.options.__file="PageList.vue";var j=O.exports,w={name:"SearchResultBlock",props:{LinksCount:Number,IdFrom:String,IdTo:String},data:function(){return{Step:20,CurrentRange:[1,this.Step],url:"/api/search/get",tmp:null,Links:[],isLoaded:!1}},components:{SearchResult:S,PageList:j},methods:{fillContexts:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.contexts=[];for(var a=0;a<n.positions_list.length;a++){var s=n.positions_list[a],r=n.text.substr(s.context_start,s.link_start-s.context_start),i=n.text.substr(s.link_start,s.link_end-s.link_start),o=n.text.substr(s.link_end,s.context_end-s.link_end),c={before:r,citation:i,after:o};n.contexts.push(c)}t[e]=n}return t},getLinks:function(t){this.CurrentRange=t,this.isLoaded=!1;var e=this.IdFrom,n=this.IdTo;if("any"==e&&(e=-1),"any"==n&&(n=-1),n==e)return[];var a={doc_id_from:e,doc_id_to:n,range:this.CurrentRange},s=JSON.stringify(a),r=new XMLHttpRequest;r.open("POST",this.url,!0),r.setRequestHeader("content-type","application/json"),r.withCredentials=!0;var i=this;r.send(s),r.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=r.responseText;i.tmp=t;var e=JSON.parse(t),n=[];e=i.fillContexts(e);for(var a=0;a<e.length;a++)n.push({id:a,Link:e[a]});i.Links=n,i.isLoaded=!0}else alert("ошибка: "+(this.status?this.statusText:"запрос не удался"))}}},created:function(){this.LinksCount<this.Step&&(this.CurrentRange[1]=this.LinksCount),this.getLinks(this.CurrentRange)}},P=w,$=(n("7bdb"),Object(p["a"])(P,_,h,!1,null,"5fcc123b",null));$.options.__file="SearchResultsBlock.vue";var T=$.exports,E={name:"LinkSearch",data:function(){return{SearchResult:null}},components:{SearchBlock:v,SearchResultsBlock:T},methods:{}},B=E,I=(n("ae1f"),Object(p["a"])(B,i,o,!1,null,"6c003974",null));I.options.__file="LinkSearch.vue";var N=I.exports,F=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"page-footer font-small white"},[n("div",{staticClass:"footer-copyright text-center py-3"},[t._v("© 2018 Copyright:\n        "),n("a",{attrs:{href:"https://github.com/orgs/robot-lab/teams/team-judicial-analysis/members"}},[t._v(" Judist team")])])])}],q={name:"Navbar"},H=q,M=(n("0da0"),Object(p["a"])(H,F,J,!1,null,"fbbd49de",null));M.options.__file="Footer.vue";var W=M.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"navbar-header"},[n("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[n("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),n("span",{staticClass:"icon-bar"}),n("span",{staticClass:"icon-bar"}),n("span",{staticClass:"icon-bar"})]),n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Judist")]),n("a",{staticClass:"navbar-text"})])])])}],D={name:"Navbar"},X=D,G=(n("2a99"),Object(p["a"])(X,z,A,!1,null,"14e39d30",null));G.options.__file="Navbar.vue";var K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace container "},[n("router-view")],1)},U=[],V={name:"Workspace",components:{LinkSearch:N}},Y=V,Z=(n("2447"),Object(p["a"])(Y,Q,U,!1,null,null,null));Z.options.__file="Workspace.vue";var tt=Z.exports,et=n("8c4f"),nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container "},[n("LinkSearch")],1)},at=[],st={name:"HomePage",components:{LinkSearch:N}},rt=st,it=(n("a3bb"),Object(p["a"])(rt,nt,at,!1,null,null,null));it.options.__file="HomePage.vue";var ot=it.exports,ct=[{path:"/",component:ot}],ut=new et["a"]({routes:ct}),lt={Router:ut},ft={name:"app",router:lt.Router,components:{Footer:W,Navbar:K,LinkSearch:N,Workspace:tt}},pt=ft,dt=(n("034f"),Object(p["a"])(pt,s,r,!1,null,null,null));dt.options.__file="App.vue";var vt=dt.exports;a["a"].config.productionTip=!1,a["a"].use(et["a"]),new a["a"]({render:function(t){return t(vt)}}).$mount("#app")},"59fb":function(t,e,n){},"6a8a":function(t,e,n){"use strict";var a=n("8e87"),s=n.n(a);s.a},"7bdb":function(t,e,n){"use strict";var a=n("fe25"),s=n.n(a);s.a},"8e87":function(t,e,n){},"8eca":function(t,e,n){},a3bb:function(t,e,n){"use strict";var a=n("bfc3"),s=n.n(a);s.a},ae1f:function(t,e,n){"use strict";var a=n("f3f7"),s=n.n(a);s.a},bfc3:function(t,e,n){},c21b:function(t,e,n){},ef74:function(t,e,n){},f0dc:function(t,e,n){},f3f7:function(t,e,n){},fe25:function(t,e,n){}});
//# sourceMappingURL=app.e7c23bfc.js.map